Reference   API reference  API   r efe r e n ce  The Signaling SDK API Reference is divided in to the following sections:  信令   SDK   的   API   参 考 分 为以 下 ⼏ 个 部 分 ：  Setup   设 置  User authentication   ⽤ 户 认证  Channels   频 道  Topics   主 题  Messages   信 息  Presence   存 在  Storage   存 储  Lock   锁  Enumerated types   列 举 类 型  S e tup   设 置  The API reference for the Signaling SDK documents interface descriptions, methods, basic usage, and return values of the Signaling APIs.  信令   SDK   的   API   参 考 ⽂ 档 包 含 接 ⼝ 描 述 、 ⽅ 法 、 基 本 使 ⽤ 法 及 信令   API   的 返 回 值 。  R tm C on fig   R tm C on fig  D e s c r i pt i on   描 述  Use the   RtmConfig   to set additional properties for Signaling initialization. These configuration properties will take effect throughout the lifecycle of the Signaling client and  Copy Page   复  Android   Version 2.x   LATEST  Ask AI  问   AI  Conversational AI Engine:   Create advanced voice apps by combining Agora's real-time audio with powerful conversational AI.  对 话 式   AI   引 擎 ：   通过 结 合   Agora   的 实 时 ⾳ 频 与 强 ⼤ 的 对 话 式 ⼈ ⼯ 智 能 ， 打 造 先 进 的 语 ⾳ 应 ⽤ 。  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   1/96

affect the behavior of the Signaling client.  使 ⽤   RtmConfig   设 置 信令 初 始 化 的 额 外 属 性 。 这 些 配 置 属 性 将 贯 穿 信令 客 户 端 的 ⽣ 命周 期 ，  并影 响 其 ⾏ 为 。  M e t h o d   ⽅ 法  You can create   RtmConfig   instances as follows:  你 可 以 按 以 下 ⽅ 式 创 建   RtmConfig   实 例 ：  Properties   性 质   Type   类 型   Required  必 填  Default  默 认   Description   描 述  appId   string   弦   Required  必 填   -  App ID obtained when creating a project in the Agora Console.  在   Agora   控 制 台 创 建 项 ⽬ 时  获 得 的 应 ⽤   ID 。  userId   string   弦   Required  必 填  -   User ID for identify a user or a device.  ⽤ 于 识 别 ⽤ 户或 设 备 的 ⽤ 户  ID 。  INFORMA T ION   信 息  To distinguish each user or device, you need to ensure that 1 RtmConfig   rtmConfig   =   new   RtmConfig. Builder ( " appid " ,   " userId " ) 2 . areaCode (EnumSet. of (RtmConstants.RtmAreaCode.NA,   RtmConstants.RtmAre 3 . eventListener (eventListener) 4 . protocolType (protocolType) 5 . presenceTimeout ( 300 ) 6 . heartbeatInterval ( 5 ) 7 . reconnectTimeout ( 60 ) 8 . useStringUserId ( true ) 9 . ispPolicyEnabled ( false ) 10 . proxyConfig (proxyConfig) 11 . logConfig (logConfig) 12 . encryptionConfig (encryptionConfig) 13 . privateConfig (privateConfig) 14 . build ();  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   2/96

Properties   性 质   Type   类 型   Required  必 填  Default  默 认   Description   描 述  the   userId  parameter is globally unique and remains unchanged throughout the user or device's lifecycle.  为了 区 分 每 个 ⽤ 户或  设 备 ， 你 需 要 确 保  userId   参 数 在 ⽤ 户 或 设 备 的 ⽣ 命周 期 中  全 局 唯 ⼀ 且 保 持 不  变 。  areaCode   RtmAreaCode  Optional  可 选   GLOB  Service area code, you can choose according to the region where your business is deployed. See  RtmAreaCode   .  服 务 区号 ， 您 可 以 根 据 您 的  业 务 部 署 地 区 选 择 。 参 ⻅  RtmAreaCode   。  eventListener   RtmEventListener  Required  必 填   -  Signaling event notification listener settings. See   Event listeners .  信 号 事件 通 知监 听 器 设 置 。  请 参 ⻅ 活 动 听 众   。  protocolType   RtmProtocolType   Optional  可 选  TCP_UDP   Protocol types for message transmission. By default, Signaling utilizes one-way TCP and one-wa UDP protocols for transmission. You have th flexibility to modify the protocol types based on your requirements. See  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   3/96

Properties   性 质   Type   类 型   Required  必 填  Default  默 认   Description   描 述  RtmProtocolType   .  消 息 传 输 的 协 议 类 型 。 默 认  情 况 下， 信令传 输 采 ⽤ 单向  TCP   和单向   UDP   协 议 。 你  可 以 根 据 ⾃ ⼰ 的 需 求 灵 活 修  改 协 议 类 型 。 参 ⻅  RtmProtocolType   。  presenceTimeout   int   智 ⼒   Optional  可 选  300   Presence timeout in seconds, and the value range is [5,300]. This parameter refers the delay imposed by the Signaling server before sending a  REMOTE_TIMEOUT   event notification to other users once it determines that a client has timed out. If the client reconnects and returns to the channel within the specified time, the Signaling server does not send the  REMOTE_TIMEOUT   event notification to other participants or delete the temporary user data  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   4/96

Properties   性 质   Type   类 型   Required  必 填  Default  默 认   Description   描 述  associated with the user.  在 线 状 态 超 时 为 秒 数 ， 值 范  围 为 [5,300] 。 该 参 数 指 信 令 服 务 器在 确 定客 户 端 超 时  后 ， 向 其 他 ⽤ 户 发 送  REMOTE_TIMEOUT   事件 通  知 前 施 加 的 延 迟 。 如 果 客 户  端 在 规 定 时 间 内 重 新 连 接 并  返 回 信 道 ， 信令 服 务 器 不 会  向 其 他 参 与 者 发 送  REMOTE_TIMEOUT   事件 通  知 ， 也 不 会 删 除 与 该 ⽤ 户 关  联 的 临 时 ⽤ 户 数据 。  heartbeatInterval   int   智 ⼒   Optional  可 选  5   Heartbeat interval in seconds, and the value range is [5,1800]. This parameter refers to the time interval at which the client sends heartbeat packets to the Signaling server. If the client fails to send heartbeat packets to the Signaling server within the specified time, the Signaling server determines that the client has timed out. Please note that this parameter affect the PCU count, which in  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   5/96

Properties   性 质   Type   类 型   Required  必 填  Default  默 认   Description   描 述  turn affects billing.  ⼼ 跳 间隔 以 秒 为 单 位 ， 数 值  范 围 为 [5,1800] 。 该 参 数 指  的 是 客 户 端 向 信令 服 务 器 发  送 ⼼ 跳 数据 包 的 时 间间隔 。  如 果 客 户 端 未 能 在 规 定 时 间  内 向 信令 服 务 器 发 送 ⼼ 跳 数 据 包 ， 信令 服 务 器 判 定客 户  端 已 超 时 。 请 注 意 ， 该 参 数  会 影 响   PCU   数 量 ， ⽽   PCU  数 量 ⼜ 会 影 响 计 费 。  reconnectTimeout   int   智 ⼒   Optional  可 选  0   SDK connection timeout i seconds. The value range is [15,3600]. The default value is   0   which means no timeout; the SDK keep retrying until successful. This parameter applies to both the initial login to thee Signaling service and reconnection after disconnection:  SDK   连 接 超 时 只 需 ⼏ 秒 钟 。  值 区 间 为 [15,3600] 。 默 认 值  为   0   ， 意 味 着 ⽆ 超 时 ;SDK  会 不 断 重 试 直 到 成 功 。 该 参  数 适 ⽤ 于 ⾸ 次 登 录 信令 服 务  以 及 断 开 连 接 后 重 新 连 接 ：  If the initial login time out, the SDK triggers the   onFailure  callback with  errorInfo   as  LOGIN_TIMEOUT   , and also triggers the  onLinkStateChanged  callback with  currentState   as  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   6/96

Properties   性 质   Type   类 型   Required  必 填  Default  默 认   Description   描 述  FAILED   and   reason  as   LOGIN_TIMEOUT   .  如 果 初 次 登 录 超 时 ，  SDK   会 触 发  onFailure   回 调 ，  ErrorInfo   为  LOGIN_TIMEOUT   ， 同  时 触 发  onLinkStateChanged  回 调 ，   currentState  为   FAIL   ，   理由   为  LOGIN_TIMEOUT   。  If reconnection times out, the SDK triggers the  onLinkStateChanged  callback with  currentState   as  FAILED   and   reason  as  RECONNECT_TIMEOUT  如 果 重 连 超 时 ， SDK   会  触 发  onLinkStateChanged  回 调 ，   currentState  为   FAIL   ，   理由   为  RECONNECT_TIMEOUT  。  useStringUserId   Bool   布尔   Optional  可 选  true   Whether to use string- type user IDs:  是 否 使 ⽤ 字 符 串 类 型 ⽤ 户  ID ：  true   : Use string- type user IDs.  true   ： 使 ⽤ 字 符 串 类  型 的 ⽤ 户   ID 。  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   7/96

Properties   性 质   Type   类 型   Required  必 填  Default  默 认   Description   描 述  false   : Use number- type user IDs. The SDK automatically converts string-type user IDs to number- type ones. In this case the   userId  parameter must be a numeric string (for example,   "123456"   ) otherwise initializatio fails.  false   ： 使 ⽤ 数 字 类  型 ⽤ 户   ID 。 SDK   会 ⾃  动 将字 符 串 类 型 的 ⽤ 户  ID   转 换 为 数 字 类 型 的 ⽤  户   ID 。 此 时 ，   userId  参 数 必 须 是 数 字字 符 串  （ 例 如   “123456” ） ，  否 则初 始 化 失 败 。  When using Agora RTC and Signaling products at the same time, it is necessary to ensure that the   userId   parameter is consistent.  当 同 时 使 ⽤   Agora RTC   和  Signaling   产 品 时 ， 必 须 确  保   userId   参 数 ⼀ 致 。  ispPolicyEnabled   Bool   布尔   Optional  可 选  false   Whether to enable the ISP domain policy restriction. In IoT scenarios, devices may be restricted by Internet Service Providers (ISPs). Use this field to set the SDK's connection mode to connect to servers with domains  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   8/96

Properties   性 质   Type   类 型   Required  必 填  Default  默 认   Description   描 述  registered with the operator or those in the IP whitelist:  是 否启 ⽤   ISP   域 策 略 限 制 。  在 物 联 ⽹ 场 景 中 ， 设 备 可 能  被 互 联 ⽹ 服 务 提 供 商 （ ISP ）  限 制 。 使 ⽤ 此 字 段 设 置   SD  的 连 接 模 式 ， 以 连 接 运 营 商  注 册 域 名 或   IP   ⽩ 名单 中 的 服  务 器 ：  true   : Enable the ISP domain policy restriction. This setting applies to scenarios where IoT devices use IoT SIM cards for network access. The SDK will only connect to servers with domains registered with the operator or those in the IP whitelist.  false   : (Default) Disable the ISP domain policy restriction. This setting applies to most common scenarios.  logConfig   RtmLogConfig   Optional   -  Log configuration properties such as the log storage size, storage path and level.  proxyConfig   RtmProxyConfig   Optional   -   When using the Proxy feature of Signaling, you  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   9/96

Properties   性 质   Type   类 型   Required  必 填  Default  默 认   Description   描 述  need to configure this parameter.  encryptionConfig   RtmEncryptionConfig   Optional   -  When using the client-sid encryption feature of Signaling, you need to configure this parameter.  privateConfig   RtmPrivateConfig   Optional   -  When using the private deployment feature of Signaling, you need to configure this parameter.  R tm L o g C on fig  Use the   RtmLogConfig   instance to configure and store local log files named  agora.log   . During the debugging phase, you can greatly improve efficiency by storing and tracking the running status of the app through logs.   If you encounter complex problems and need Agora technical support to assist with the investigation, you need to provide the log information.   RtmLogConfig   contains the following properties:  Properties   Type   Required   Default   Description  filePath   String   Optional   -   Log file storage paths.  fileSizeInKB   int   Optional   1024  Log file size in KB, with a value range of [128,1024].  If the value you enter is less than 128, the SDK sets the value to 128.  If the value you enter is greater than 1024, the SDK sets the value to 1024.  level   RtmLogLevel   Optional   INFO  Output level of log information. See  RtmLogLevel   .  R tm P roxy C on fig  Use the   RtmProxyConfig   instance to set properties related to the client Proxy service. In some restricted network environments, you might need to use this feature.  CA UT ION  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   10/96

You need to keep your Proxy username and password safe. The Signaling SDK does not parse, store, or forward your username and password in any way. In addition, if you modify the Proxy settings during the app running process, the settings will take effect only after restarting the Signaling client.  RtmProxyConfig   contains the following properties:  Properties   Type   Required   Default   Description  proxyType   RtmProxyType   Optional   NONE  Proxy protocol type. See  RtmProxyType   .  server   String   Optional   -   Proxy server domain name or IP address.  port   int   Optional   -   Proxy listening port.  account   String   Optional   -   Proxy login account.  password   String   Optional   -   Proxy login password.  R tm E n c rypt i on C on fig  Use the   RtmEncryptionConfig   instance to set the properties required for the client-side encryption. After successfully setting encryption modes, encryption keys, and other related properties, the SDK automatically encrypts and decrypts all messages sent or all statuses set by the user on the client side.  CA UT ION  Once you set the encryption feature, all users must use the same encryption mode and key, otherwise users cannot communicate with each other.  RtmEncryptionConfig   contains the following properties:  Properties   Type   Required   Default   Description  encryptionMode   RtmEncryptionMode   Optional   NONE  Encryption mode. See  RtmEncryptionMode   .  encryptionKey   String   Optional   -   User-defined encryption key, unlimited length. Agora  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   11/96

Properties   Type   Required   Default   Description  recommends using a 32-byte key.  encryptionKdfSalt   byte[]   Optional   null  User-defined encryption salt, length is 32 bytes. Agora recommends using OpenSSL to generate salt on the server side.  R tm P r i v a t e C on fig  Use the   RtmPrivateConfig   instance to set the properties required for the private deployment.  RtmPrivateConfig   contains the following properties:  Properties   Type   Required   Default   Description  serviceType   EnumSet<RtmServiceType>   Optional   -   Service type. See  RtmServiceType   .  accessPointHosts   ArrayList<String>   Optional   -  An array of server addresses, where you can fill in domain names or IP addresses.  B a s ic   us age 1 RtmProxyConfig   proxyConfig   =   new   RtmProxyConfig (); 2 proxyConfig. setProxyType (RtmProxyType.HTTP); 3 proxyConfig. setServer ( " x.x.x.x " );   //   your   proxy   server   ip 4 proxyConfig. setPort ( 8080 );   //   your   server   port 5 proxyConfig. setAccount ( " user_name " ); 6 proxyConfig. setPassword ( " pass_word " ); 7 8 RtmLogConfig   logConfig   =   new   RtmLogConfig (); 9 logConfig. setFilePath ( "" );   //   your   log   path 10 logConfig. setFileSize ( 10 * 1024 );   //   log   file   size 11 logConfig. setLevel (RtmLogLevel.INFO); 12 13 byte []   salt   =   { 1 ,   2 ,   3 ,   4 ,   5 }; 14 RtmEncryptionConfig   encryptionConfig   =   new   RtmEncryptionConfig (); 15 encryptionConfig. setEncryptionMode (RtmEncryptionMode.AES_256_GCM);  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   12/96

c r ea t e  D e s c r i pt i on  Call the   create   method to create and initialize the Signaling Client instance.  INFORMA T ION  You need to create and initialize a client instance before calling other Signaling APIs.  To distinguish each user or device, you need to ensure that the   userId  parameter is globally unique and remains unchanged throughout the user or device's lifecycle.  M e t h o d  You can create and initialize an instance as follows:  Parameters   Type   Required   Default   Description  config   RtmConfig   Required   -   Initialize the configuration parameters of the Signaling Client. See   RtmConfig   .  B a s ic   us age 16 encryptionConfig. setEncryptionKey ( " your_encryption_key " ); 17 encryptionConfig. setEncryptionSalt (salt); 18 19 RtmConfig   rtmConfig   =   new   RtmConfig. Builder ( " yourAppId " ,   " Tony " ) 20 . areaCode (EnumSet. of (RtmAreaCode.GLOB)) 21 . eventListener (eventListener) 22 . protocolType (RtmProtocolType.TCP_UDP) 23 . presenceTimeout ( 300 ) 24 . heartbeatInterval ( 5 ) 25 . useStringUserId ( true ) 26 . proxyConfig (proxyConfig) 27 . logConfig (logConfig) 28 . encryptionConfig (encryptionConfig) 29 . privateConfig (privateConfig) 30 . build (); 1 RtmClient   create ( RtmConfig   config)   throws   Exception; 1 Rt   C   fi   t   C   fi   Rt   C   fi   B   ild   ( "   A   Id "   " T   " )  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   13/96

R e turn   V a lu e  If the method call succeeds, the SDK creates a Signaling client instance for subsequent calls to other Signaling APIs.  If the method call fails, the SDK returns   Exception   .  E v e nt   L i st e n e rs  D e s c r i pt i on  Signaling has a total of 8 types of event notifications, as shown in the following table:  Event Type   Description  onMessageEvent  Receive message notifications from all subscribed Message Channels or topic message notifications subscribed to, in all Stream Channels you join. See   MessageEvent   .  onPresenceEvent  Receive presence event notifications in subscribed message channels and joined stream channels. See   PresenceEvent  onTopicEvent  Receive all topic event notifications in joined stream channels. See   TopicEvent  onStorageEvent  Receive channel metadata event notifications in subscribed message channels and joined stream channels, and the user metadata event notification of the subscribed users. See  StorageEvent  onLockEvent  Receive lock event notifications in subscribed message channels and joined stream channels. See   LockEvent  onConnectionStateChanged  (Deprecated) Receive event notifications when client connection status changes. For details, see  RtmConnectionState   and   RtmConnectionChangeReason   . 1 RtmConfig   rtmConfig   =   new   RtmConfig. Builder ( " yourAppId " ,   " Tony " ) 2 . eventListener (eventListener) 3 . build (); 4 5 try   { 6 rtmClient   =   RtmClient. create (rtmConfig); 7 }   catch   ( Exception   e )   { 8 e. printStackTrace (); 9 }  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   14/96

Event Type   Description  onLinkStateEvent  Receive event notifications when client connection status changes . See   LinkStateEvent   .  onTokenPrivilegeWillExpire  Receive event notifications when the client tokens are about to expire.  A dd   e v e nt   l i st e n e rs  You can add an event listener object through the following ways:  Add only an event listener object during initialization.  Add one or more event listener objects at any point during the app's lifecycle by calling the   addEventListener   method.  A ddi n g   D ur i n g   I n i t ia l i z a t i on  When initializing the Signaling client instance using the   create   method, you can refer to the following example code to add an event listener object: 1 //   Add   the   message   event   listener 2 //   Only   override   the   events   that   you   want   to   receive 3 rtmConfig.eventListener   =   new   RtmEventListener   { 4 @ Override 5 public   void   onMessageEvent ( MessageEvent   event)   { 6 //   Your   message   event   handler 7 } 8 9 @ Override 10 public   void   onPresenceEvent ( PresenceEvent   event)   { 11 //   Your   presence   event   handler 12 } 13 14 @ Override 15 public   void   onTopicEvent ( TopicEvent   event)   { 16 //   Your   topic   event   handler 17 } 18 19 @ Override 20 public   void   onLockEvent ( LockEvent   event)   { 21 //   Your   lock   event   handler 22 } 23 24 @ Override 25 public   void   onStorageEvent ( StorageEvent   event)   { 26 //   Your   storage   event   handler 27 } 28 29 @ Override  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   15/96

A ddi n g   a t   A ny   T i m e  At any point during the app's lifecycle, if you need to add multiple event listener objects, you can call the   addEventListener   method multiple times.  If you no longer need to listen to a specific event listener object, but still need to listen to other event listener objects, you can call the   removeEventListener   method to remove the specified event listener object.  M e ss age E v e nt  MessageEvent   contains the following properties: 29 @ Override 30 public   void   onConnectionStateChanged ( String   channelName,   RtmConstants 31 //   Your   connection   state   change   event   handler 32 } 33 34 @ Override 35 public   void   onLinkStateEvent ( LinkStateEvent   event)   { 36 //   Your   link   state   change   event   handler 37 } 38 39 @ Override 40 public   void   onTokenPrivilegeWillExpire ( String   channelName)   { 41 //   Your   token   privilege   will   expire   event   handler 42 } 43 } 1 //   create   event   listener 2 //   only   need   to   override   the   event   which   you   want   to   receive 3 RtmEventListener   listener   =   new   RtmEventListener ()   { 4 @ Override 5 public   void   onMessageEvent ( MessageEvent   event )   { 6 } 7 8 @ Override 9 public   void   onConnectionStateChanged ( String   channelName ,   RtmConstants 10 } 11 }; 12 13 //   add   listener 14 rtmClient. addEventListener (listener); 15 //   ... 1 rtmClient. removeEventListener (listener);  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   16/96

Properties   Type   Description  channelType   RtmChannelType   Channel types. See   RtmChannelType   .  channelName   String   Channel name.  topicName   String   Topic name.  message   RtmMessage   Message.  publisher   String   User ID of the message publisher.  customType   String   A user-defined field. Only supports string type.  timestamp   long   The timestamp when the event occurs.  RtmMessage   contains the following properties:  Properties   Type   Description  message   String   String type message.  data   byte[]   Byte type message.  messageType   RtmMessageType   Message type. See   RtmMessageType   .  P r e s e n ce E v e nt  PresenceEvent   contains the following properties:  Properties   Type   Description  type   RtmPresenceEventType   Presence event type. See   RtmPresenceEventType   .  channelType   RtmChannelType   Channel types. See   RtmChannelType   .  channelName   String   Channel name.  publisher   String   User ID of the message publisher.  stateItems   ArrayList<StateItem>  Key-value pair that identifies the user's presence state.  interval   IntervalInfo   In the Interval state, the aggregated incremental information of event notifications such as user  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   17/96

Properties   Type   Description  joining, leaving, timeout, and status change in the previous period of the current channel.  snapshot   SnapshotInfo  When the user first joins the channel, the server pushes the snapshot data of all users in the current channel and their statuses to the user.  timestamp   long   The timestamp when the event occurred.  IntervalInfo   contains the following properties:  Properties   Type   Description  joinUserList   ArrayList<String>  List of users who joined the channel in the previous cycle.  leaveUserList   ArrayList<String>  List of users who left the channel in the previous cycle.  timeoutUserList   ArrayList<String>  List of users who timed out joining the channel in the previous cycle.  userStateList   ArrayList<UserState>  List of users whose status has changed in the previous cycle. Contains user ID and status key- value pairs.  SnapshotInfo   contains the following properties:  Properties   Type   Description  userStateList   ArrayList<UserState>  Snapshot information of the user when first joining the channel, including user ID and key- value pairs of status.  StateItem   data type contains the following properties:  Properties   Type   Description  key   string   Key of the user state. If the specified key already exists, the SDK overwrites the value; if the specified key does not exist, the SDK creates the key-value  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   18/96

Properties   Type   Description  pair.  value   string   Value of the user state.  T op ic E v e nt  TopicEvent   contains the following properties:  Properties   Type   Description  type   RtmTopicEventType   Topic event type. See   RtmTopicEventType   .  channelName   String   Channel name.  publisher   String   User ID.  topicInfos   ArrayList<TopicInfo>   Topic information.  timestamp   long   The timestamp when the event occurs.  TopicInfo   data type contains the following properties:  Properties   Type   Description  topicName   String   Topic name.  publishers   ArrayList<PublisherInfo>   Message publisher array.  PublisherInfo   data type contains the following properties:  Properties   Type   Description  publisherUserId   String   User ID of the message publisher.  publisherMeta   String   Metadata of the message publisher.  S tor age E v e nt  StorageEvent   contains the following properties:  Properties   Type   Description  channelType   RtmChannelType   Channel types. See   RtmChannelType   .  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   19/96

Properties   Type   Description  storageType   RtmStorageType   Storage type. See   RtmStorageType   .  eventType   RtmStorageEventType   Storage event type. See   RtmStorageEventType   .  target   String   User ID or channel name.  data   Metadata   Metadata item. See   Metadata   .  timestamp   long   The timestamp when the event occurs.  L o ck E v e nt  LockEvent   contains the following properties:  Properties   Type   Description  channelType   RtmChannelType   Channel types. See   RtmChannelType   .  eventType   RtmLockEventType   Lock event type. See   RtmLockEventType   .  channelName   String   Channel name.  lockDetailList   ArrayList<LockDetail>   Details of lock.  timestamp   long   The timestamp when the event occurs.  The   LockDetail   data type contains the following properties:  Properties   Type   Description  lockName   String   Lock name.  lockOwner   String   The ID of the user who has a lock.  ttl   int  The expiration time of the lock. The value is in seconds, ranging from [10 to 300]. When the user who owns the lock goes offline, if the user returns to the channel within the time they can still use the lock; otherwise, the lock is released and the users who listen for the   onLockEvent   event receives the   RELEASED   event.  L i n k S t a t e E v e nt  SDK link state event.   LinkStateEvent   data type contains the following properties:  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   20/96

Parameters   Type   Description  currentState   RtmLinkState  The current link state. See  RtmLinkState   .  previousState   RtmLinkState  The previous link state. See  RtmLinkState   .  serviceType   RtmServiceType  The network connection type. See  RtmServiceType   .  operation   RtmLinkOperation  The operation that triggered the current state transition. See  RtmLinkOperation   .  reasonCode   AgoraRtmLinkStateChangeReason  The reason for this state transition. See  AgoraRtmLinkStateChangeReason   .  reason   String  The reason for the current state transition. This parameter will be deprecated in the future, please use the   reasonCode   parameter instead.  affectedChannels   ArrayList<String>  The channels affected by the current state transition.  unrestoredChannels   ArrayList<String>  The information about the channels to which subscription or joining has not been restored, including the channel name, channel type, and temporary state data in the channel. Typically, this information is empty.  isResumed   boolean  Within 2 minutes of the disconnection, whether the state transitions from   DISCONNECTED   to  CONNECTED   .   true   refers to the state has transitioned.  timestamp   long   The timestamp when the event occurs.  lo gi n  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   21/96

D e s c r i pt i on  After creating and initializing the Signaling instance, you need to perform the   login  operation to log in to the Signaling service. After successful login, the client establishes a long connection with the Signaling server, and then the SDK allows the client to access Signaling resources.  INFORMA T ION  After the user successfully logs in to the Signaling service, the PCU of the application increases, which affects your billing data.  M e t h o d  You can log in to the Signaling system as follows:  Parameters   Type   Required   Default   Description  token   const char*   Required   -  The token used for logging in to Signaling.  If you have enabled token authentication for your project, use either the   Signaling temporary token   or obtain a Signaling token generated by your  token server .  If your project does not enable token authentication, use an empty string or the App ID of a project that has Signaling services enabled.  resultCallback   ResultCallback<Void>   Required   -   Invocation result callback:  Success: Executes the  onSuccess   method. 1 void   login ( String   token,   ResultCallback < Void >   resultCallback);  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   22/96

Parameters   Type   Required   Default   Description  Failure: Executes the  onFailure   method.  After calling most of the APIs of the Signaling Java SDK, the SDK returns a  resultCallback   callback. Based on different invocation results, the SDK executes different methods in the   resultCallback   callback:  If the method call succeeds, the SDK executes the   onSuccess   method.  If the method call fails, the SDK executes the   onFailure   method and the   onFailure  method returns an   errorInfo   value of type   ErrorInfo   , which includes the error code, error reason, and API operation name as follows:  Properties   Type   Description  errorCode   RtmErrorCode   Error code for this operation.  reason   String   Error reason for this operation.  operation   String   Operation type.  To find out the cause of the error and get the corresponding solution, use the  errorCode   field with the   error codes table .  B a s ic   us age  lo g out  D e s c r i pt i on  When you no longer need to operate, you can log out of the system. This operation affects the PCU item in your billing data. 1 rtmClient. login (token,   new   ResultCallback <Void>()   { 2 @ Override 3 public   void   onSuccess( Void   responseInfo )   { 4 } 5 @ Override 6 public   void   onFailure( ErrorInfo   errorInfo )   { 7 } 8 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   23/96

M e t h o d  You can log out as follows:  Parameters   Type   Required   Default   Description  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  B a s ic   us age  r e l ea s e  D e s c r i pt i on  Once you no longer need the Signaling service, it is best to destroy the   RtmClient  instance. Doing so protects you from the performance degradation caused by memory leaks, errors, and exceptions.  M e t h o d  You can destroy the   RtmClient   instance as follows:  B a s ic   us age 1 void   logout ( ResultCallback < Void >   resultCallback); 1 rtmClient. logout ( new   ResultCallback <Void>()   { 2 @ Override 3 public   void   onSuccess( Void   responseInfo )   { 4 } 5 6 @ Override 7 public   void   onFailure( ErrorInfo   errorInfo )   { 8 } 9 }); 1 void   release ();  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   24/96

U s e r   a ut he nt ica t i on  Authentication is the process of validating the identity of each user before they access a system. Agora uses digital tokens to authenticate users and their privileges.  Different types of channels in SIgnaling require different types of tokens:  Message channels and User channels: When logging in to Signaling using the   login  method, you only need to pass the token that enables Signaling.  Stream channels: In addition to the Signaling token, when joining a stream channel using the   join   method, you also need to pass the token that enables RTC service.  The token is valid for up to 24 hours. Agora recommends that you update the token before it expires. This section describes how to update the token.  For more information on generating and using tokens, see   Secure authentication with tokens .  R tm C l ie nt . r e n e w T o ke n  D e s c r i pt i on  Call the   RtmClient.renewToken   method to renew the Signaling token.  To ensure timely token updates, Agora recommends listening for the  onTokenPrivilegeWillExpire   callback. See   Event listeners   for details. Once you successfully add the event listener, the SDK triggers the  onTokenPrivilegeWillExpire   callback 30 seconds before the Signaling token is set to expire to notify you about the impending token expiration.  Upon receiving this callback, you can obtain a new Signaling token from the token server and call the   renewToken   method to provide the SDK with the newly generated Signaling token.  M e t h o d  You can call the   RtmClient.renewToken   method as follows: 1 rtmClient. release (); 1 void   renewToken ( String   token,   ResultCallback < Void >   resultCallback)  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   25/96

Parameters   Type   Required   Default   Description  token   string   Required   -   The newly generated Signaling token.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  B a s ic   us age  S tr ea m C ha nn e l . r e n e w T o ke n  D e s c r i pt i on  Call the   StreamChannel.renewToken   method to renew the RTC token.  To ensure timely token updates, Agora recommends listening for the  onTokenPrivilegeWillExpire   callback. See   Event listeners   for details. Once you successfully add the event listener, when the RTC token is about to expire within 30 seconds, the SDK triggers the   onTokenPrivilegeWillExpire   callback to notify the user about the impending token expiration.  Upon receiving this callback, you can generate a new RTC token on the server- side and call the   renewToken   method to provide the SDK with the newly generated RTC token.  M e t h o d  You can call the   StreamChannel.renewToken   method as follows: 1 rtmClient. renewToken ( " your_token " ,   new   ResultCallback <Void>()   { 2 @ Override 3 public   void   onSuccess( Void   responseInfo )   { 4 //   Handle   success 5 } 6 7 @ Override 8 public   void   onFailure( ErrorInfo   errorInfo )   { 9 //   Handle   failure 10 } 11 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   26/96

Parameters   Type   Required   Default   Description  token   string   Required   -   The newly generated RTC token.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  B a s ic   us age  C ha nn e ls  Signaling provides a highly efficient channel management mechanism for data transmission. Any user who subscribes or joins a channel can receive messages and events transmitted within 100 milliseconds. Signaling allows clients to subscribe to hundreds or even thousands of channels. Most Signaling APIs perform actions such as sending, receiving, and encrypting based on channels.  Based on capabilities of Agora, Signaling channels are divided into two types to match different application use-cases:  Message Channel: Follows the industry-standard Pub/Sub (publish/subscribe) mode. You can send and receive messages within the channel by subscribing to a channel, and do not need to create the channel in 1 void   renewToken ( String   token,   ResultCallback < Void >   resultCallback) 1 streamChannel. renewToken ( " your_token " ,   new   ResultCallback <Void>()   { 2 @ Override 3 public   void   onSuccess( Void   responseInfo )   { 4 //   Handle   success 5 } 6 7 @ Override 8 public   void   onFailure( ErrorInfo   errorInfo )   { 9 //   Handle   failure 10 } 11 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   27/96

advance. There is no limit to the number of publishers and subscribers in a channel.  User Channel: Point-to-point message sending and receiving based on the Pub/Sub (publish/subscribe) model. Users do not need to subscribe to the channel, they can directly specify the user ID to send messages. To receive messages, they only need to listen to   onMessageEvent   events.  Stream Channel: Follows a concept similar to the observer pattern in the industry, where users need to create and join a channel before sending and receiving messages. You can create different topics in the channel, and messages are organized and managed through topics.  su b s c r ibe  D e s c r i pt i on  Signaling provides event notification capabilities for messages and states. By listening for callbacks, you can receive messages and events within subscribed channels. For information on how to add and set event listeners, see   Event Listeners .  By calling the   subscribe   method, the client can subscribe to a message channel and start receiving messages and event notifications within the channel. After successfully calling this method, users who subscribe to the channel and enable the presence event listener can receive a   REMOTE_JOIN   type of the  onPresenceEvent   event. See   Event Listeners .  INFORMA T ION  This method only applies to the message channel.  M e t h o d  You can call the   subscribe   method as follows:  Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name. 1 void   subscribe ( 2 String   channelName, 3 SubscribeOptions   options, 4 ResultCallback < Void >   resultCallback 5 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   28/96

Parameters   Type   Required   Default   Description  options   SubscribeOptions   Required   -   Options for subscribing to a channel.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  SubscribeOptions   contains the following properties:  Properties   Type   Required   Default   Description  withMessage   boolean   Optional   true  Whether to subscribe to message event notifications in the channel.  withPresence   boolean   Optional   true  Whether to subscribe to presence event notifications in the channel.  withMetadata   boolean   Optional   false  Whether to subscribe to storage event notifications in the channel.  withLock   boolean   Optional   false  Whether to subscribe to lock event notifications in the channel.  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   29/96

Properties   Type   Required   Default   Description  beQuiet   boolean   Optional   false  Whether to enable silent mode. If you set this parameter to   true   , the SDK behaves as follows:  You still receive event notifications from other users.  Event notifications related to your channel activity, such as subscribing or unsubscribing a channel, and actions related to setting, getting, or deleting temporary user states, are not broadcasted to other users.  When calling the   getOnlineUsers  method, your information is not included.  When calling the   getUserChannels  method, the channels that you subscribe to in silent mode are not included.  B a s ic   us age  unsu b s c r ibe  D e s c r i pt i on  If you no longer need to subscribe to a channel, you can call the   unsubscribe   method to unsubscribe from the channel. After successfully calling this method, users who subscribe 1 SubscribeOptions   options   =   new   SubscribeOptions (); 2 options. setWithMessage ( true ); 3 options. setWithPresence ( true ); 4 options. setWithMetadata ( false ); 5 options. setWithLock ( false ); 6 7 rtmClient. subscribe ( " channel_name " ,   options,   new   ResultCallback <Void>()   { 8 @ Override 9 public   void   onSuccess( Void   responseInfo )   { 10 log ( CALLBACK ,   " subscribe   channel   success " ) ; 11 } 12 13 @ Override 14 public   void   onFailure( ErrorInfo   errorInfo )   { 15 log ( ERROR ,   errorInfo. toString ()) ; 16 } 17 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   30/96

to the channel and enable event listeners can receive the   REMOTE_LEAVE   type of the  onPresenceEvent   event notification. See   Event Listeners .  INFORMA T ION  This method only applies to the message channel.  M e t h o d  You can call the   unsubscribe   method as follows:  Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  B a s ic   us age  c r ea t e S tr ea m C ha nn e l  D e s c r i pt i on 1 void   unsubscribe ( 2 String   channelName, 3 ResultCallback < Void >   resultCallback 4 ); 1 rtmClient. unsubscribe ( " channel_name " ,   new   ResultCallback <Void>()   { 2 @ Override 3 public   void   onSuccess( Void   responseInfo )   { 4 log ( CALLBACK ,   " unsubscribe   channel   success " ) ; 5 } 6 7 @ Override 8 public   void   onFailure( ErrorInfo   errorInfo )   { 9 log ( ERROR ,   errorInfo. toString ()) ; 10 } 11 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   31/96

Before using a stream channel, you need to call the   createStreamChannel   method to create the   StreamChannel   instance. After successfully creating the instance, you can call its relevant methods to implement functions, such as joining the channel, leaving the channel, sending messages in a topic, and subscribing to messages in a topic.  INFORMA T ION  This method only applies to the stream channel.  M e t h o d  You can call the   createStreamChannel   method as follows:  Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name.  B a s ic   us age  R e turn   V a lu e  The   StreamChannel   instance.  j o i n  D e s c r i pt i on  After successfully creating a stream channel, you can call the   join   method to join the stream channel.   Once you join the channel, you can implement channel- related functions. At this point, users who subscribe to the channel and add event listeners can receive the following event notifications:  For the local user:  The   SNAPSHOT   type of the   onPresenceEvent   event. 1 StreamChannel   createStreamChannel ( String   channelName)   throws   Exception; 1 try   { 2 StreamChannel   streamChannel   =   rtmClient. createStreamChannel ( " channel_n 3 }   catch   ( Exception   e )   { 4 log (ERROR,   " create   stream   channel   failed:   "   +   e. toString ()); 5 }  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   32/96

The   SNAPSHOT   type of the   onTopicEvent   event.  For remote users: The   REMOTE_JOIN   type of the   onPresenceEvent   event.  INFORMA T ION  This method only applies to the stream channel.  M e t h o d  You can call the   join   method as follows:  Parameters   Type   Required   Default   Description  options   JoinChannelOptions   Required   -   Options for joining a channel.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  The   JoinChannelOptions   data type contains the following properties: 1 void   join ( 2 JoinChannelOptions   options, 3 ResultCallback < Void >   resultCallback 4 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   33/96

Properties   Type   Required   Default   Description  token   String   Required   -  An RTC token for joining a stream channel.  If you have enabled token authentication for your project, generate a   temporary RTC token   or obtain an RTC token generated by your   token server .  If you have not enabled token authentication for your project, use an empty string or the App ID of your project that has RTC and Signaling services enabled.  withPresence   boolean   Optional   true  Whether to subscribe to presence event notifications in the channel.  withMetadata   boolean   Optional   false  Whether to subscribe to storage event notifications in the channel.  withLock   boolean   Optional   false  Whether to subscribe to lock event notifications in the channel.  beQuiet   boolean   Optional   false  Whether to enable silent mode. If you set this parameter to   true   , the SDK behaves as follows:  You still receive event notifications from other users.  Event notifications related to your channel activity, such as joining or leaving a channel, and actions related to setting, getting, or deleting temporary user states, are not broadcasted to other users.  When calling the   getOnlineUsers  method, your information is not included.  When calling the   getUserChannels  method, the channels that you subscribe to in silent mode are not included.  B a s ic   us age 1 JoinChannelOptions   options   =   new   JoinChannelOptions (); 2 options. setToken ( " yourToken " ) 3 options. setWithPresence ( true ); 4 options. setWithMetadata ( false ); 5 ti   tWithL   k ( f   l   )  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   34/96

l ea v e  D e s c r i pt i on  If you no longer need to stay in a channel, you can call the   leave   method to leave the channel. After leaving the channel, you can no longer receive any messages, states, or event notifications from this channel. At the same time, you can no loger be the topic publisher or subscriber of all topics. If you want to restore your previous publisher role and subscribing relationship, you need to call   join   ,   joinTopic   and   subscribeTopic  methods in order.  After successfully leaving the channel, remote users in the channel can receive the   REMOTE_LEAVE   type of the   onPresenceEvent   event notification. For details, see  Event Listeners .  INFORMA T ION  This method only applies to the stream channel.  M e t h o d  You can call the   leave   method as follows:  Parameters   Type   Required   Default   Description  resultCallback   ResultCallback<Void>   Required   -   Invocation result callback:  Success: Executes the  onSuccess   method. 5 options. setWithLock ( false ); 6 7 streamChannel. join (options,   new   ResultCallback <Void>()   { 8 @ Override 9 public   void   onSuccess( Void   responseInfo )   { 10 log ( CALLBACK ,   " join   stream   channel   success " ) ; 11 } 12 13 @ Override 14 public   void   onFailure( ErrorInfo   errorInfo )   { 15 log ( ERROR ,   errorInfo. toString ()) ; 16 } 17 }); 1 void   leave ( ResultCallback < Void >   resultCallback);  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   35/96

Parameters   Type   Required   Default   Description  Failure: Executes the  onFailure   method.  B a s ic   us age  r e l ea s e  D e s c r i pt i on  If you no longer need a channel, you can call the   release   method to destroy the corresponding stream channel instance and release resources. Calling the   release  method does not destroy the stream channel, and it can be re-joined later by calling  createStreamChannel   and   join   again.  INFORMA T ION  This method only applies to the stream channel. If you don't call   leave   to leave the channel before directly calling   release   to destroy the stream channel instance, the SDK automatically calls the   leave   and triggers the corresponding event.  M e t h o d  You can call the   release   method as follows:  B a s ic   us age 1 streamChannel. leave ( new   ResultCallback <Void>()   { 2 @ Override 3 public   void   onSuccess( Void   responseInfo )   { 4 log ( CALLBACK ,   " leave   stream   channel   success " ) ; 5 } 6 7 @ Override 8 public   void   onFailure( ErrorInfo   errorInfo )   { 9 log ( ERROR ,   errorInfo. toString ()) ; 10 } 11 }); 1 RtmErrorCode   release (); 1 RtmErrorCode   errorCode   =   streamChannel. release ();  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   36/96

R e turn   V a lu e  This operation returns the   RtmErrorCode   data type.  T op ic s  Topic is a data stream management mechanism in stream channels. Users can use topics to subscribe to and distribute data streams, as well as notify events in data streams in stream channels.  INFORMA T ION  Topics only exist in stream channels. Therefore, before using relevant features, you need to create the   StreamChannel   instance.  j o i n T op ic  D e s c r i pt i on  The purpose of joining a topic is to register as one of the message publishers for the topic, so that the user can send messages in the topic. This operation does not affect whether or not the user becomes a subscriber to the topic.  INFORMA T ION  Currently, Signaling supports a single client joining up to 8 topics in the same stream channel at a time.  Before joining a topic, a user needs to create the   StreamChannel   instance and call the   join   method to join the channel.  After successfully joining a topic, users who subscribe to that topic and add event listeners can receive the   REMOTE_JOIN   type of the   onTopicEvent   event notification. For details, see   Event Listeners .  M e t h o d  You can call the   joinTopic   method as follows: 1 void   StreamChannel. joinTopic ( 2 String   topicName, 3 JoinTopicOptions   options, 4 ResultCallback < Void >   resultCallback 5 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   37/96

Parameters   Type   Required   Default   Description  topicName   String   Required   -   Topic name.  options   JoinTopicOptions   Required   -   Options for joining a topic.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  The   options   parameter contains the following properties:  Properties   Type   Required   Default   Description  messageQos   RtmMessageQos   Optional   UNORDERED  Whether the data transmitted in the topic is ordered. See  RtmMessageQos   .  priority   RtmMessagePriority   Optional   NORMAL  The priority of data transmission in the topic compared to other topics in the same channel. See  RtmMessagePriority   .  topicMeta   String   Optional   -  Adds additional metadata when joining the topic.  syncWithMedia   boolean   Optional   false  Whether the data sent in this topic is synchronized (timestamp-aligned) with the RTC audio and video data stream of the common channel.  B a s ic   us age  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   38/96

pu b l i s h T op ic M e ss age  D e s c r i pt i on  Use the   publishTopicMessage   method to send messages to a topic. Users who have subscribed to the topic and the message publisher in the channel can receive the message within 100 milliseconds. Before calling the   publishTopicMessage   method, users need to join the stream channel, and then register as a message publisher for that topic by calling the   joinTopic   method.  The messages sent by users are encrypted with TLS during transmission, and data link encryption is enabled by default and cannot be disabled. To achieve a higher level of data security, users can also enable client encryption during initialization. For details, see   Setup .  M e t h o d  You can call the   publishTopicMessage   [1/2] and   publishTopicMessage   [2/2] method as follows: 1 JoinTopicOptions   options   =   new   JoinTopicOptions (); 2 options.messageQos   =   RtmMessageQos.ORDERED; 3 streamChannel. joinTopic ( " topic_name " ,   options,   new   ResultCallback <Void>() 4 @ Override 5 public   void   onSuccess( Void   responseInfo )   { 6 log ( CALLBACK ,   " join   topic   success " ) ; 7 } 8 9 @ Override 10 public   void   onFailure( ErrorInfo   errorInfo )   { 11 log ( ERROR ,   errorInfo. toString ()) ; 12 } 13 }); 1 //   publishTopicMessage   [1/2] 2 void   StreamChannel. publishTopicMessage ( 3 String   topicName, 4 String   message, 5 TopicMessageOptions   options, 6 ResultCallback < Void >   resultCallback 7 ); 1 //   publishTopicMessage   [2/2] 2 void   StreamChannel. publishTopicMessage ( 3 String   topicName, 4 byte []   message,  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   39/96

Parameters   Type   Required   Default   Description  topicName   String   Required   -   Topic name.  message   String\byte[]   Required   -   Message payload.  options   TopicMessageOptions   Required   -   Message options.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  The   TopicMessageOptions   data type contains the following properties:  Properties   Type   Required   Default   Description  sendTs   long   Optional   0  The timestamp when the SDK sends a message. This parameter is only valid when you set   syncWithMedia   =   true   in the   joinTopic  method. The SDK synchronizes data with RTC audio and video streams based on this timestamp.  customType   String   Optional   -   A user-defined field. Only supports string type.  B a s ic   us age  Example 1: Send string messages to a specified channel. 5 TopicMessageOptions   options, 6 ResultCallback < Void >   resultCallback 7 ); 1 String   message   =   " message " ; 2 TopicMessageOptions   options   =   new   TopicMessageOptions (); 3 options.customType   =   " PlainTxT " ; 4 streamChannel. publishTopicMessage ( " topic_name " ,   message,   options,   new   Res 5 @ Override 6 public   void   onSuccess( Void   responseInfo )   { 7 log ( CALLBACK ,   " publish   topic   message   success " ) ; 8 } 9  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   40/96

Example 2: Send byte messages to a specified channel.  l ea v e T op ic  D e s c r i pt i on  When you no longer need to publish messages to a topic, to release resources, you can call the   leaveTopic   method to unregister as a message publisher for that topic. This method does not affect whether or not you subscribe to that topic or any other operations performed by other users on that topic.  After successfully calling this method, users who subscribe to the channel and enable event listeners can receive the   REMOTE_LEAVE   type of the   onTopicEvent  event notification. See   Event Listeners .  M e t h o d  You can call the   leaveTopic   method as follows:  Parameters   Type   Required   Default   Description  topicName   String   Required   -   Topic name. 9 10 @ Override 11 public   void   onFailure( ErrorInfo   errorInfo )   { 12 log ( ERROR ,   errorInfo. toString ()) ; 13 } 14 }); 1 byte []   message   =   new   byte []   { 1 ,   2 ,   3 ,   4 }; 2 TopicMessageOptions   options   =   new   TopicMessageOptions (); 3 options.customType   =   " ByteArray " ; 4 streamChannel. publishTopicMessage ( " topic_name " ,   message,   options,   new   Res 5 @ Override 6 public   void   onSuccess( Void   responseInfo )   { 7 log ( CALLBACK ,   " publish   topic   message   success " ) ; 8 } 9 10 @ Override 11 public   void   onFailure( ErrorInfo   errorInfo )   { 12 log ( ERROR ,   errorInfo. toString ()) ; 13 } 14 }); 1 void   StreamChannel. leaveTopic ( String   topicName,   ResultCallback < Void >   resul  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   41/96

Parameters   Type   Required   Default   Description  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  B a s ic   us age  su b s c r ibe T op ic  D e s c r i pt i on  After joining the channel, you can call the   subscribeTopic   method to subscribe to the message publisher of the topic in the channel.  subscribeTopic   is an incremental method. For example, if you call this method for the first time with a subscribing list of   [UserA,   UserB]   , and then call it again with a subscribing list of   [UserB,   UserC]   , the final successful subscribing result is  [UserA,   UserB,   UserC]   .  A user can subscribe to a maximum of 50 topics in each channel, and a maximum of 64 message publishers in each topic. See   API usage restrictions .  M e t h o d  You can call the   subscribeTopic   method as follows: 1 streamChannel. leaveTopic ( " topic_name " ,   new   ResultCallback <Void>()   { 2 @ Override 3 public   void   onSuccess( Void   responseInfo )   { 4 log ( CALLBACK ,   " leave   topic   success " ) ; 5 } 6 7 @ Override 8 public   void   onFailure( ErrorInfo   errorInfo )   { 9 log ( ERROR ,   errorInfo. toString ()) ; 10 } 11 }); 1 void   StreamChannel. subscribeTopic ( 2 String   topicName, 3 TopicOptions   options, 4 ResultCallback < SubscribeTopicResult >   resultCallback 5 )  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   42/96

Parameters   Type   Required   Default   Description  topicName   String   Required   -   Topic name  options   TopicOptions   Required   -   Options for to a topic.  resultCallback   ResultCallback<SubscribeTopicResult>   Required   -  Invocation r callback:  Success: Ex  onSuccess  return the  SubscribeT  data.  Failure: Exec  onFailure  The   options   parameter contains the following properties:  Properties   Type   Required   Default   Description  users   ArrayList<String>   Optional   -  A list of   UserId   of message publishers that you want to subscribe to. If you do not set this property, you can randomly subscribe to up to 64 users by default.  SubscribeTopicResult   parameter contains the following properties:  Properties   Type   Description  succeedUsers   ArrayList<String>   A list of successfully subscribed users.  failedUsers   ArrayList<String>   A list of users that the SDK fails to subscribe to.  B a s ic   us age  Example 1: Subscribe to the specified message publisher in the topic. 5 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   43/96

Example 2: Randomly subscribe to 64 message publishers in the topic.  unsu b s c r ibe T op ic  D e s c r i pt i on  If you are no longer interested in a specified topic, or no longer need to subscribe to one or more message publishers in the topic, you can call the   unsubscribeTopic   method to unsubscribe from the topic or the specified message publishers in the topic.  M e t h o d  You can call the   unsubscribeTopic   method as follows: 1 TopicOptions   options   =   new   TopicOptions (); 2 options.users   =   new   ArrayList <>(Arrays. asList ( " UserA " , " UserB " , " UserC " )); 3 streamChannel. subscribeTopic ( " topic_name " ,   options,   new   ResultCallback <Su 4 @ Override 5 public   void   onSuccess( SubscribeTopicResult   responseInfo )   { 6 log ( CALLBACK ,   " subscribe   topic   success " ) ; 7 } 8 9 @ Override 10 public   void   onFailure( ErrorInfo   errorInfo )   { 11 log ( ERROR ,   errorInfo. toString ()) ; 12 } 13 }); 1 TopicOptions   options   =   new   TopicOptions (); 2 mStreamChannel. subscribeTopic ( " topic_name " ,   options,   new   ResultCallback <S 3 @ Override 4 public   void   onSuccess( SubscribeTopicResult   responseInfo )   { 5 log ( CALLBACK ,   " subscribe   topic   success " ) ; 6 } 7 8 @ Override 9 public   void   onFailure( ErrorInfo   errorInfo )   { 10 log ( ERROR ,   errorInfo. toString ()) ; 11 } 12 }); 1 void   StreamChannel. unsubscribeTopic ( 2 String   topicName, 3 TopicOptions   options, 4 ResultCallback < Void >   resultCallback 5 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   44/96

Parameters   Type   Required   Default   Description  topicName   String   Required   -   Topic name.  options   TopicOptions   Required   -  Options for unsubscribe from a topic.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  The   options   parameter contains the following properties:  Properties   Type   Required   Default   Description  users   ArrayList<String>   Optional   -  A list of   UserId   of message publishers that you want to unsubscribe from. If you do not set this property, you can randomly unsubscribe from up to 64 users by default.  B a s ic   us age  Example 1: Unsubscribe the specified message publisher in the topic 1 TopicOptions   options   =   new   TopicOptions (); 2 options.users   =   new   ArrayList <>(Arrays. asList ( " Tony " , " Bo " )); 3 4 streamChannel. unsubscribeTopic ( " topicName " ,   options,   new   ResultCallback <V 5 @ Override 6 public   void   onSuccess( Void   responseInfo )   { 7 log ( CALLBACK ,   " unsubscribe   topic   success " ) ; 8 } 9 10 @ Override 11 public   void   onFailure( ErrorInfo   errorInfo )   { 12 log ( ERROR ,   errorInfo. toString ()) ; 13 } 14 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   45/96

Example 2: Randomly unsubscribe 64 message publishers from the topic.  M e ss age s  Sending and receiving messages is the most basic function of the Signaling service. Any message sent by the Signaling server can be delivered to any online subscribing user within 100 ms. Depending on your business requirements, you can send messages to one user only or broadcast messages to multiple users.  Signaling offers the following channel types:  Message Channel: The real-time channel. Messages are transmitted through the channel, and the channel is highly scalable. Local users can call the   publish   method, set the   channelType   parameter to   MESSAGE   , and set the   channelName   parameter to the channel name to send messages in the channel. The remote users can call the  subscribe   method to subscribe to the channel and receive messages.  User Channel: The real-time channel. Messages are transmitted to the specified user. Local users can call the   publish   method, set the   channelType   parameter to   USER   , and set the   channelName   parameter to the user ID to send messages to the specified user. The specified remote users receive messages through the   onMessageEvent  event notifications.  Stream Channel: The streaming transmission channel. Messages are transmitted through the topic. Users need to join a channel first, and then join a topic. Local users can call the   publishTopicMessage   method to send messages in the topic, and remote users can call the   subscribeTopic   method to subscribe to the topic and receive messages.  This section shows you how to send and receive messages in a message channel or a user channel. 1 TopicOptions   options   =   new   TopicOptions (); 2 streamChannel. unsubscribeTopic ( " topicName " ,   options,   new   ResultCallback <V 3 @ Override 4 public   void   onSuccess( Void   responseInfo )   { 5 log ( CALLBACK ,   " unsubscribe   topic   success " ) ; 6 } 7 8 @ Override 9 public   void   onFailure( ErrorInfo   errorInfo )   { 10 log ( ERROR ,   errorInfo. toString ()) ; 11 } 12 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   46/96

pu b l i s h  D e s c r i pt i on  You can directly call the   publish   method to send messages to all online users subscribed to this channel. Even if you do not subscribe to the channel, you can still send messages in the channel.  INFORMA T ION  The following practices can effectively improve the reliability of message transmission:  The message payload should be within 32 KB; otherwise, the sending will fail.  The upper limit of the rate at which messages are sent to a single channel is 60 QPS. If the sending rate exceeds the limit, some messages will be discarded. A lower rate is better, as long as the requirements are met.  After successfully calling this method, the SDK triggers a   onMessageEvent   event notification. Users who subscribe to the channel and enabled the event listener can receive this event notification. For details, see   Event Listeners .  M e t h o d  You can call the   publish   method as follows: 1 //   publish   [1/2] 2 void   publish ( 3 String   channelName, 4 String   message, 5 PublishOptions   options, 6 ResultCallback < Void >   resultCallback 7 ); 1 //   publish   [2/2] 2 void   publish ( 3 String   channelName, 4 byte []   message, 5 PublishOptions   options, 6 ResultCallback < Void >   resultCallback 7 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   47/96

Parameters   Type   Required   Default   Description  channelName   String   Required   -  Fill in a channel name to send messages to a specified channel, or fill in a user ID to send messages to a specified user.  message   String\byte[]   Required   -   Message payload.  options   PublishOptions   Required   -   Message options.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  The   options   parameter contains the following properties:  Properties   Type   Required   Default   Description  channelType   RtmChannelType   Required   -   Channel types. See  RtmChannelType   .  customType   String   Optional   -   A user-defined field. Only supports string type.  B a s ic   us age  Example 1: Send string messages to a specified channel. 1 String   message   =   " Hello   world " ; 2 PublishOptions   options   =   new   PublishOptions (); 3 options.customType   =   ' PlainText ' ; 4 rtmClient. publish ( " my_channel " ,   message,   options,   new   ResultCallback <Void 5 @ Override 6 public   void   onSuccess( Void   responseInfo )   { 7 log ( CALLBACK ,   " send   message   to   channel   success " ) ; 8 } 9 10 @ Override 11 public   void   onFailure( ErrorInfo   errorInfo )   { 12 log ( ERROR   errorInfo   toString ()) ;  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   48/96

Example 2: Send byte messages to a specified channel.  Example 3: Send string messages to a specified user.  Example 4: Send byte messages to a specified user. 12 log ( ERROR ,   errorInfo. toString ()) ; 13 } 14 }); 1 byte []   message   =   new   byte []   { 1 ,   2 ,   3 ,   4 }; 2 PublishOptions   options   =   new   PublishOptions (); 3 options.customType   =   ' ByteArray ' ; 4 rtmClient. publish ( " my_channel " ,   message,   options,   new   ResultCallback <Void 5 @ Override 6 public   void   onSuccess( Void   responseInfo )   { 7 log ( CALLBACK ,   " send   message   to   channel   success " ) ; 8 } 9 10 @ Override 11 public   void   onFailure( ErrorInfo   errorInfo )   { 12 log ( ERROR ,   errorInfo. toString ()) ; 13 } 14 }); 1 PublishOptions   options   =   new   PublishOptions (); 2 options. setChannelType (RtmChannelType.USER); 3 options. setCustomType ( " PlainText " ); 4 rtmClient. publish ( " Tony " ,   " Hello   world " ,   options,   new   ResultCallback <Void 5 @ Override 6 public   void   onSuccess( Void   responseInfo )   { 7 log ( CALLBACK ,   " send   message   success " ) ; 8 } 9 10 @ Override 11 public   void   onFailure( ErrorInfo   errorInfo )   { 12 log ( ERROR ,   errorInfo. toString ()) ; 13 } 14 }); 1 byte []   message   =   new   byte []   { 1 ,   2 ,   3 ,   4 }; 2 PublishOptions   options   =   new   PublishOptions (); 3 options. setChannelType (RtmChannelType.USER); 4 options. setCustomType ( " ByteArray " ); 5 rtmClient. publish ( " Tony " ,   message,   options,   new   ResultCallback <Void>()   { 6 @ Override 7 public   void   onSuccess( Void   responseInfo )   { 8 log ( CALLBACK ,   " send   message   success " ) ;  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   49/96

R ecei v e  Signaling provides event notifications for messages, states, and event changes. By listening for callbacks, you can receive messages and events within subscribed channels. As an example, the code snippet below shows how to receive messages from the user channel.  Adding during initialization:  Adding at any time: 9 } 10 11 @ Override 12 public   void   onFailure( ErrorInfo   errorInfo )   { 13 log ( ERROR ,   errorInfo. toString ()) ; 14 } 15 }); 1 rtmConfig.eventListener   =   new   RtmEventListener   { 2 @ Override 3 public   void   onMessageEvent ( MessageEvent   event)   { 4 //   User   channel   messages 5 if   (event. getChannelType ()   ==   RtmChannelType.USER)   { 6 log (CALLBACK,   " receive   message   from   "   +   event. getPublisherId 7 } 8 } 9 //   ... 10 } 1 RtmEventListener   listener   =   new   RtmEventListener ()   { 2 @ Override 3 public   void   onMessageEvent ( MessageEvent   event )   { 4 //   User   channel   messages 5 if   (event. getChannelType ()   ==   RtmChannelType.USER)   { 6 log (CALLBACK,   " receive   message   from   "   +   event. getPublisher 7 } 8 } 9 10 @ Override 11 public   void   onConnectionStateChanged ( String   channelName ,   RtmConsta 12 } 13 }; 14 15 rtmClient. addEventListener (listener); 16 //   ...  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   50/96

For information on how to add and set event listeners, see   Event Listeners .  P r e s e n ce  The presence feature provides the ability to monitor user online, offline, and user historical state change. With the Presence feature, you can get real-time access to the following information:  Real-time event notification when a user joins or leaves a specified channel.  Real-time event notification when the custom temporary user state changes.  Query which channels a specified user has joined or subscribed to.  Query which users have joined a specified channel and their temporary user state data.  INFORMA T ION  Presence   applies to both message channels and stream channels.  ge t O nl i n e U s e rs  D e s c r i pt i on  By calling the   getOnlineUsers   method, you can query real-time information about the number of online users, the list of online users, and the temporary state of online users in a specified channel.  M e t h o d  You can call the   getOnlineUsers   method as follows:  Parameters   Type   Required   Default   Description  channelName   string   Required   -   Channel nam  channelType   RtmChannelType   Required   -   Channel typ  RtmChannel 1 void   getOnlineUsers ( 2 String   channelName, 3 RtmChannelType   channelType, 4 GetOnlineUsersOptions   options, 5 ResultCallback < GetOnlineUsersResult >   resultCallback 6 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   51/96

Parameters   Type   Required   Default   Description  options   GetOnlineUsersOptions   Required   -   Query optio  resultCallback   ResultCallback<GetOnlineUsersResult>   Required   -  Invocation r callback:  Success: Ex  onSuccess  return the  GetOnlineU  query result  Failure: Exec  onFailure  return an er  The   options   parameter contains the following properties:  Properties   Type   Required   Default   Description  includeUserId   boolean   Optional   true  Whether the returned result includes the user ID of online members.  includeState   boolean   Optional   false  Whether the returned result includes temporary state data of online users.  page   String   Optional   -  Page number of the returned result. If you do not provide this property, the SDK returns the first page by default. You can check whether there is next page in the returned result.  GetOnlineUsersResult   data contains the following properties:  Properties   Type   Description  nextPage   String   Page number of the next page. Confirm whether there is a next page:  A null value indicates that next page does not exist.  A non-null value indicates that there is a next page. You can fill this value in the   page   property  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   52/96

Properties   Type   Description  of the   getOnlineUsers   method to query the next page results.  userStateList   ArrayList<UserState>  List of online users and their temporary state information in a specified channel.  totalOccupancy   long  The list length of   UserStateList   . When you set both   includeUserId   and   includeState  properties in the   getOnlineUsers   method to  false   , this value represents the total number of current online users in the channel.  The   UserState   data type contains the following properties:  Properties   Type   Description  userId   String   User ID.  states   HashMap<String,   String>   Temporary user state.  B a s ic   us age 1 GetOnlineUsersOptions   options   =   new   GetOnlineUsersOptions (); 2 options. setIncludeUserId ( true ); 3 options. setIncludeState ( true ); 4 options. setPage ( " yourBookMark " ); 5 6 rtmClient. getPresence (). getOnlineUsers ( " channelName " ,   RtmChannelType.MESS 7 @ Override 8 public   void   onSuccess( GetOnlineUsersResult   result )   { 9 log ( CALLBACK ,   " getOnlineUsers   success " ) ; 10 for   ( UserState   state   :   result .getUserStateList())   { 11 log ( INFO ,   " user   id:   "   +   state. getUserId ()) ; 12 state .getStates().forEach((key,   value)   ->   { 13 log ( INFO ,   " key:   "   +   key   +   " ,   value:   "   +   value ) ; 14 }); 15 } 16 } 17 18 @ Override 19 public   void   onFailure( ErrorInfo   errorInfo )   { 20 log ( ERROR ,   errorInfo. toString ()) ; 21 } 22 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   53/96

ge t U s e r C ha nn e ls  D e s c r i pt i on  In use-cases such as statistic analytics and debugging, you may need to know all the channels that a specified user has subscribed to or joined. Call the   getUserChannels  method to get the list of channels where the specified user is in real time.  M e t h o d  You can call the   getUserChannels   method as follows:  Parameters   Type   Required   Default   Descripti  userId   string   Required   -   User ID.  resultCallback   ResultCallback<ArrayList<ChannelInfo>>   Required   -  Invocation  Success:  onSucces  return the  ArrayLis  query res  Failure: Ex  onFailur  ChannelInfo   data type contains the following properties:  Properties   Type   Description  channelName   String   Channel name.  channelType   RtmChannelType   Channel types. See   RtmChannelType   .  B a s ic   us age 1 void   getUserChannels ( 2 String   userId, 3 ResultCallback < ArrayList < ChannelInfo >>   resultCallback 4 ); 1 rtmClient. getPresence (). getUserChannels ( " Tony " ,   new   ResultCallback < ArrayL 2 @ Override 3 public   void   onSuccess( ArrayList < ChannelInfo >   channels )   {  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   54/96

s e t S t a t e  D e s c r i pt i on  To meet different requirements in different business use-cases for setting user states, Signaling provides the   setState   method to customize the temporary user state. Users can add custom states such as scores, game state, location, mood, and hosting state for themselves.  After successful setup, as long as the user keeps subscribing to the channel and stays online, the custom states can persist in the channel.   setState   method sets the temporary user state, and the state disappears when the user leaves the channel or disconnects from Signaling. If you need to restore user states when rejoining a channel or reconnecting, you need to cache the data locally in real time. If you want to permanently save user states, Agora recommends you use the   setUserMetadata   method of the storage function instead.  If a user modifies the temporary user state, Signaling triggers the  REMOTE_STATE_CHANGED   type of the   onPresenceEvent   event in real time. You can receive the event by subscribing to the channel and configuring the corresponding property.  M e t h o d  You can call the   setState   method as follows: 4 log ( CALLBACK ,   " get   "   +   queryUserId   +   "   getUserChannels   success " ) ; 5 for   ( ChannelInfo   channel   :   channels)   { 6 log ( INFO ,   channel. toString ()) ; 7 } 8 } 9 10 @ Override 11 public   void   onFailure( ErrorInfo   errorInfo )   { 12 log ( ERROR ,   errorInfo. toString ()) ; 13 } 14 }); 1 void   setState ( 2 String   channelName, 3 RtmChannelType   channelType, 4 Map < String,   String >   items, 5 ResultCallback < Void >   resultCallback 6 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   55/96

Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name  channelType   RtmChannelType   Required   -   Channel types. See  RtmChannelType   .  items   Map<String,   String>   Required   -   User state.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  StateItem   data type contains the following properties:  Properties   Type   Description  key   string  Key of the user state. If the specified key already exists, the SDK overwrites the value; if the specified key does not exist, the SDK creates the key-value pair.  value   string   Value of the user state.  B a s ic   us age  ge t S t a t e 1 HashMap <String,   String>   stateItems   =   new   HashMap <String,   String>(); 2 stateItems. put ( " mood " ,   " pumped " ); 3 4 rtmClient. getPresence (). setState ( " channelName " ,   RtmChannelType.MESSAGE,   s 5 @ Override 6 public   void   onSuccess( Void   responseInfo )   { 7 log ( CALLBACK ,   " set   state   success " ) ; 8 } 9 10 @ Override 11 public   void   onFailure( ErrorInfo   errorInfo )   { 12 log ( ERROR ,   errorInfo. toString ()) ; 13 } 14 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   56/96

D e s c r i pt i on  To get the temporary user state of a specified user in the channel, you can use the  getState   method.  M e t h o d  You can call the   getState   method as follows:  Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name.  channelType   RtmChannelType   Required   -  Channel types. See  RtmChannelType   .  userId   String   Required   -   User ID.  resultCallback   ResultCallback<UserState>   Required   -  Invocation result callback:  Success: Executes the   onSuccess  method and return the  UserState   query result.  Failure: Executes the   onFailure  method.  The   UserState   data type contains the following properties:  Properties   Type   Description  userId   String   User ID. 1 void   getState ( 2 String   channelName, 3 RtmChannelType   channelType, 4 String   userId, 5 ResultCallback < UserState >   resultCallback 6 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   57/96

Properties   Type   Description  states   HashMap<String,   String>   Temporary user state.  B a s ic   us age  r e mov e S t a t e  D e s c r i pt i on  When a temporary user state is no longer needed, you can call the   removeState   method to remove one or more of your temporary states. When the user state is removed, the user who has subscribed to the channel and enabled the presence event listener receives the  REMOTE_STATE_CHANGED   type of   onPresenceEvent   event notification. See   Event Listeners .  M e t h o d  You can call the   removeState   method as follows: 1 rtmClient. getPresence (). getState ( " channelName " ,   RtmChannelType.MESSAGE,   " 2 @ Override 3 public   void   onSuccess( UserState   state )   { 4 log ( CALLBACK ,   " get   users( "   +   state. getUserId ()   +   " )   state   success 5 state .getStates().forEach((key,   value)   ->   { 6 log ( INFO ,   " key:   "   +   key   +   " ,   value:   "   +   value ) ; 7 }); 8 } 9 10 @ Override 11 public   void   onFailure( ErrorInfo   errorInfo )   { 12 log ( ERROR ,   errorInfo. toString ()) ; 13 } 14 }); 1 void   removeState ( 2 String   channelName, 3 RtmChannelType   channelType, 4 ArrayList < String >   keys, 5 ResultCallback < Void >   resultCallback 6 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   58/96

Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name  channelType   RtmChannelType   Required   -   Channel types. See  RtmChannelType   .  keys   ArrayList<String>   Required   -  List of keys to be deleted. If you do not provide this property, the SDK removes all states.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  B a s ic   us age  S tor age  The storage feature provides a database mechanism that allows developers to dynamically set, store, update, and delete data such as channel metadata and user metadata.  s e t C ha nn e l M e t ada t a  D e s c r i pt i on 1 ArrayList <String>   keys   =   new   ArrayList <>(Arrays. asList ( " A " ,   " B " ,   " C " )); 2 rtmClient. getPresence (). removeState ( " channelName " ,   RtmChannelType.MESSAGE 3 @ Override 4 public   void   onSuccess( Void   responseInfo )   { 5 log ( CALLBACK ,   " remove   state   success " ) ; 6 } 7 8 @ Override 9 public   void   onFailure( ErrorInfo   errorInfo )   { 10 log ( ERROR ,   errorInfo. toString ()) ; 11 } 12 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   59/96

The   setChannelMetadata   method sets metadata for a message channel or a stream channel. A channel can only have one set of metadata, but each set of metadata can have one or more metadata items. If you call this method multiple times, the SDK retrieves the   key   of the metadata items and applies settings according to the following rules:  If you set metadata with different   key   values, the SDK adds each set of metadata in sequence according to the order of the method calls.  If you set metadata with the same   key   , the   value   of the last setting overwrites the previous one.  After successfully setting channel metadata, users who subscribe to the channel and enable event listeners receive the   CHANNEL   type of the   onStorageEvent   event notification. See   Event listeners .  Channel metadata also introduces the version control logic CAS (Compare And Set). This method provides two independent version control fields, and you can set one or more of these according to your actual business use-case:  Enable version number verification for the entire set of channel metadata by setting the   majorRevision   property in the   Metadata   data type.  Enable version number verification for a single metadata item by setting the  revision   property in the   MetadataItem   class.  When setting channel metadata or metadata items, you can control whether to enable version number verification by specifying the revision property:  The default value of the revision property is   -1   , indicating that this method call does not perform any CAS verification. If the channel metadata or metadata item already exists, the latest value overwrites the previous one. If the channel metadata or metadata item does not exist, the SDK creates it.  If the revision property is a positive integer, this method call performs CAS verification. If the channel metadata or metadata item already exists, the SDK updates the corresponding value after the version number verification succeeds. If the channel metadata or metadata item does not exist, the SDK returns an error code.  M e t h o d  You can call the   setChannelMetadata   method as follows: 1 void   setChannelMetadata (  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   60/96

Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name.  channelType   RtmChannelType   Required   -   Channel type. See  RtmChannelType   .  data   Metadata   Required   -   Metadata item. See  Metadata   .  options   MetadataOptions   Required   -   Options for setting the channel metadata.  lockName   String   Required   -  Lock name. If set, only users who call the  acquireLock   method to acquire the lock can perform operations.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  The   MetadataOptions   data type contains the following properties:  Properties   Type   Required   Default   Description  recordTs   boolean   Optional   false  Whether to record the timestamp of the edits.  recordUserId   boolean   Optional   false   Whether to record the user ID of the editor. 1 void   setChannelMetadata ( 2 String   channelName, 3 RtmChannelType   channelType, 4 Metadata   data, 5 MetadataOptions   options, 6 String   lockName, 7 ResultCallback < Void >   resultCallback 8 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   61/96

B a s ic   us age  ge t C ha nn e l M e t ada t a  D e s c r i pt i on  The   getChannelMetadata   method gets the metadata of the specified channel.  M e t h o d  You can call the   getChannelMetadata   method as follows:  Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name. 1 //   Create   a   metadata   instance 2 Metadata   metadata   =   new   Metadata (); 3 //   Set   the   Major   Revision 4 metadata. setMajorRevision ( 174298270 ); 5 //   Add   metadata   item 6 ArrayList <MetadataItem>   items   =   new   ArrayList <MetadataItem>(); 7 items. add ( new   MetadataItem ( " Apple " ,   " 100 " ,   174298200 )); 8 items. add ( new   MetadataItem ( " Banana " ,   " 200 " ,   174298100 )); 9 metadata. setItems (items); 10 //   Record   who   and   when   set   the   metadata 11 MetadataOptions   options   =   new   MetadataOptions (); 12 options. setRecordTs ( true ); 13 options. setRecordUserId ( true ); 14 15 rtmClient. getStorage (). setChannelMetadata ( " channelName " ,   RtmChannelType.M 16 @ Override 17 public   void   onSuccess( Void   responseInfo )   { 18 log ( CALLBACK ,   " set   channel   metadata   success " ) ; 19 } 20 21 @ Override 22 public   void   onFailure( ErrorInfo   errorInfo )   { 23 log ( ERROR ,   errorInfo. toString ()) ; 24 } 25 }); 1 void   getChannelMetadata ( 2 String   channelName, 3 RtmChannelType   channelType, 4 ResultCallback < Metadata >   resultCallback 5 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   62/96

Parameters   Type   Required   Default   Description  channelType   RtmChannelType   Required   -   Channel type. See  RtmChannelType   .  resultCallback   ResultCallback<Metadata>   Required   -  Invocation result callback:  Success: Executes the   onSuccess  method and return the   Metadata  query result.  Failure: Executes the   onFailure  method.  B a s ic   us age  r e mov e C ha nn e l M e t ada t a  D e s c r i pt i on  The   removeChannelMetadata   method removes channel metadata or metadata items.  When removing channel metadata or metadata items, you can control whether to enable version number verification by specifying the revision property:  The default value of the revision property is   -1   , indicating that this method call does not perform any CAS verification. If the channel metadata or metadata item already 1 rtmClient. getStorage (). getChannelMetadata ( " channelName " ,   RtmChannelType.M 2 @ Override 3 public   void   onSuccess( Metadata   data )   { 4 log ( CALLBACK ,   " get   channel   metadata   success " ) ; 5 log ( INFO ,   " metadata   major   revision:   "   +   data. getMajorRevision ()) ; 6 for   ( MetadataItem   item   :   data .getItems())   { 7 log ( INFO ,   item.toString) ; 8 } 9 } 10 11 @ Override 12 public   void   onFailure( ErrorInfo   errorInfo )   { 13 log ( ERROR ,   errorInfo. toString ()) ; 14 } 15 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   63/96

exists, the SDK removes it. If the channel metadata or metadata item does not exist, the SDK returns an error code.  If the revision property is a positive integer, this method call performs CAS verification. If the channel metadata or metadata item already exists, the SDK removes the corresponding value after the version number verification succeeds. If the channel metadata or metadata item does not exist, the SDK returns an error code.  After successfully removing channel metadata or metadata items, users who subscribe to the channel and enable event listeners receive the   CHANNEL   type of the   onStorageEvent   event notification. See   Event listeners .  M e t h o d  You can call the   removeChannelMetadata   method as follows:  Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name.  channelType   RtmChannelType   Required   -   Channel type. See  RtmChannelType   .  data   Metadata   Required   -   Metadata item. See  Metadata   .  options   MetadataOptions   Required   -   Options for setting the channel metadata.  lockName   String   Required   -  Lock name. If set, only users who call the  acquireLock   method to acquire the lock can perform operations. 1 void   removeChannelMetadata ( 2 String   channelName, 3 RtmChannelType   channelType, 4 Metadata   data, 5 MetadataOptions   options, 6 String   lockName, 7 ResultCallback < Void >   resultCallback 8 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   64/96

Parameters   Type   Required   Default   Description  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  The   MetadataOptions   data type contains the following properties:  Properties   Type   Required   Default   Description  recordTs   boolean   Optional   false  Whether to record the timestamp of the edits.  recordUserId   boolean   Optional   false   Whether to record the user ID of the editor.  B a s ic   us age  up da t e C ha nn e l M e t ada t a 1 //   Create   a   metadata   instance 2 Metadata   metadata   =   new   Metadata (); 3 //   Set   the   Major   Revision 4 metadata. setMajorRevision ( 174298270 ); 5 //   Add   a   metadata   item 6 MetadataItem   item   =   new   MetadataItem (); 7 item. setKey ( " Apple " ); 8 item. setRevision ( 174298200 ); 9 metadata. getItems (). add (item); 10 //Record   who   and   when   set   the   metadata 11 MetadataOptions   options   =   new   MetadataOptions (); 12 13 rtmClient. getStorage (). removeChannelMetadata ( " channelName " ,   RtmChannelTyp 14 @ Override 15 public   void   onSuccess( Void   responseInfo )   { 16 log ( CALLBACK ,   " remove   channel   metadata   success " ) ; 17 } 18 19 @ Override 20 public   void   onFailure( ErrorInfo   errorInfo )   { 21 log ( ERROR ,   errorInfo. toString ()) ; 22 } 23 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   65/96

D e s c r i pt i on  The   updateChannelMetadata   method updates existing channel metadata. Each time you call this method, you can update one channel metadata or a channel metadata item.  After successfully updating channel metadata, users who subscribe to the channel and enable event listeners receive the   CHANNEL   type of the  onStorageEvent   event notification. See   Event listeners .  INFORMA T ION  You cannot use this method to update metadata items which do not exist.  M e t h o d  You can call the   updateChannelMetadata   method as follows:  Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name.  channelType   RtmChannelType   Required   -   Channel type. See  RtmChannelType   .  data   Metadata   Required   -   Metadata item. See  Metadata   .  options   MetadataOptions   Required   -   Options for setting the channel metadata.  lockName   String   Required   -  Lock name. If set, only users who call the  acquireLock   method to acquire the lock can perform operations. 1 void   updateChannelMetadata ( 2 String   channelName, 3 RtmChannelType   channelType, 4 Metadata   data, 5 MetadataOptions   options, 6 String   lockName, 7 ResultCallback < Void >   resultCallback 8 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   66/96

Parameters   Type   Required   Default   Description  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  The   options   parameter contains the following properties:  Properties   Type   Required   Default   Description  recordTs   boolean   Optional   false  Whether to record the timestamp of the edits.  recordUserId   boolean   Optional   false   Whether to record the user ID of the editor.  B a s ic   us age  s e t U s e r M e t ada t a  D e s c r i pt i on 1 //   Create   a   metadata   instance 2 Metadata   metadata   =   new   Metadata (); 3 //   Set   the   Major   Revision 4 metadata. setMajorRevision ( 174298270 ); 5 //   Add   metadata   item 6 ArrayList <MetadataItem>   items   =   new   ArrayList <MetadataItem>(); 7 items. add ( new   MetadataItem ( " Apple " ,   " 120 " ,   174298200 )); 8 items. add ( new   MetadataItem ( " Banana " ,   " 220 " ,   174298100 )); 9 metadata. setItems (items); 10 11 rtmClient. getStorage (). updateChannelMetadata ( " channelName " ,   RtmChannelTyp 12 @ Override 13 public   void   onSuccess( Void   responseInfo )   { 14 log ( CALLBACK ,   " update   channel   metadata   success " ) ; 15 } 16 17 @ Override 18 public   void   onFailure( ErrorInfo   errorInfo )   { 19 log ( ERROR ,   errorInfo. toString ()) ; 20 } 21 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   67/96

The   setUserMetadata   method sets metadata for a user. If you call this method multiple times, the SDK retrieves the   key   of the metadata items and applies settings according to the following rules:  If you set metadata with different   key   , the SDK adds each set of metadata in sequence according to the order of the method calls.  If you set metadata with the same   key   , the   value   of the last setting overwrites the previous one.  After successfully setting user metadata, users who subscribe to the user and enable event listeners receive the   USER   type of the   onStorageEvent   event notification. See   Event listeners .  User metadata also introduces the version control logic CAS (Compare And Set). This method provides two independent version control fields, and you can set one or more of them according to your actual business use-case:  Enable version number verification for the entire set of channel metadata by setting the   majorRevision   property in the   Metadata   data type.  Enable version number verification for a single metadata item by setting the  revision   property in the   MetadataItem   class.  When setting user metadata or metadata items, you can control whether to enable version number verification by specifying the revision property:  The default value of the revision property is   -1   , indicating that this method call does not perform any CAS verification. If the user metadata or metadata item already exists, the latest value overwrites the previous one. If the user metadata or metadata item does not exist, the SDK creates it.  If the revision property is a positive integer, this method call performs CAS verification. If the user metadata or metadata item already exists, the SDK updates the corresponding value after the version number verification succeeds. If the user metadata or metadata item does not exist, the SDK returns an error code.  M e t h o d  You can call the   setUserMetadata   method as follows: 1 void   setUserMetadata ( 2 String   userId, 3 Metadata   data, 4 MetadataOptions   options  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   68/96

Parameters   Type   Required   Default   Description  userId   String   Required   -   User ID.  data   Metadata   Required   -   Metadata item. See  Metadata   .  options   MetadataOptions   Required   -   Options for setting the channel metadata.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  The   options   parameter contains the following properties:  Properties   Type   Required   Default   Description  recordTs   boolean   Optional   false  Whether to record the timestamp of the edits.  recordUserId   boolean   Optional   false   Whether to record the user ID of the editor.  B a s ic   us age 4 MetadataOptions   options, 5 ResultCallback < Void >   resultCallback 6 ); 1 //   Create   a   metadata   instance 2 Metadata   metadata   =   new   Metadata (); 3 //   Set   the   Major   Revision 4 metadata. setMajorRevision ( 174298270 ); 5 //   Add   metadata   item 6 ArrayList <MetadataItem>   items   =   new   ArrayList <MetadataItem>(); 7 items. add ( new   MetadataItem ( " Name " ,   " Tony " ,   174298200 )); 8 items. add ( new   MetadataItem ( " Mute " ,   " true " ,   174298100 )); 9 metadata. setItems (items); 10 11 rtmClient. getStorage (). setUserMetadata ( " userName " ,   metadata,   new   Metadata 12 @ Override 13 public   void   onSuccess( Void   responseInfo )   { 14 log ( CALLBACK   " set   user   metadata   success " ) ;  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   69/96

ge t U s e r M e t ada t a  D e s c r i pt i on  The   getUserMetadata   method gets the metadata and metadata item for the specified user.  M e t h o d  You can call the   getUserMetadata   method as follows:  Parameters   Type   Required   Default   Description  userId   String   Required   -   User ID.  resultCallback   ResultCallback<Metadata>   Required   -  Invocation result callback:  Success: Executes the   onSuccess  method and return the   Metadata  query result.  Failure: Executes the   onFailure  method.  B a s ic   us age 14 log ( CALLBACK ,   set   user   metadata   success   ) ; 15 } 16 17 @ Override 18 public   void   onFailure( ErrorInfo   errorInfo )   { 19 log ( ERROR ,   errorInfo. toString ()) ; 20 } 21 }); 1 void   getUserMetadata ( 2 String   userId, 3 ResultCallback < Metadata >   resultCallback 4 ); 1 rtmClient. getStorage (). getUserMetadata ( " userName " ,   new   ResultCallback <Met 2 @ Override 3 public   void   onSuccess( Metadata   data )   { 4 l   ( CALLBACK   "   t   t   d   t   " )  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   70/96

r e mov e U s e r M e t ada t a  D e s c r i pt i on  The   removeUserMetadata   method removes user metadata or metadata items.  After successfully removing user metadata, users who subscribe to the user and enable event listeners receive the   USER   type of the   onStorageEvent   event notification. See   Event listeners .  M e t h o d  You can call the   removeUserMetadata   method as follows:  Parameters   Type   Required   Default   Description  userId   String   Required   -   User ID.  data   Metadata   Required   -   Metadata item. See  Metadata   .  options   MetadataOptions   Required   -   Options for setting the channel metadata.  resultCallback   ResultCallback<Void>   Required   -   Invocation result callback:  Success: Executes the  onSuccess   method. 4 log ( CALLBACK ,   " get   user   metadata   success " ) ; 5 log ( INFO ,   " major   revision:   "   +   data. getMajorRevision ()) ; 6 for   ( MetadataItem   item   :   data .getItems())   { 7 log ( INFO ,   item. toString ()) ; 8 } 9 } 10 11 @ Override 12 public   void   onFailure( ErrorInfo   errorInfo )   { 13 log ( ERROR ,   errorInfo. toString ()) ; 14 } 15 }); 1 void   removeUserMetadata ( 2 String   userId, 3 Metadata   data, 4 MetadataOptions   options, 5 ResultCallback < Void >   resultCallback 6 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   71/96

Parameters   Type   Required   Default   Description  Failure: Executes the  onFailure   method.  The   options   parameter contains the following properties:  Properties   Type   Required   Default   Description  recordTs   boolean   Optional   false  Whether to record the timestamp of the edits.  recordUserId   boolean   Optional   false   Whether to record the user ID of the editor.  B a s ic   us age  up da t e U s e r M e t ada t a  D e s c r i pt i on  The   updateUserMetadata   method updates existing user metadata. After successfully updating channel metadata, users who subscribe to the user and enable event listeners 1 //   Create   a   metadata   instance 2 Metadata   metadata   =   new   Metadata (); 3 //   Set   the   Major   Revision 4 metadata. setMajorRevision ( 174298270 ); 5 //   Add   metadata   item 6 MetadataItem   item   =   new   MetadataItem (); 7 item. setKey ( " Mute " ); 8 item. setRevision ( 174298100 ); 9 metadata. getItems (). add (item); 10 //   Record   who   and   when   set   the   metadata 11 MetadataOptions   options   =   new   MetadataOptions (); 12 13 rtmClient. getStorage (). removeUserMetadata ( " Tony " ,   metadata,   options,   new 14 @ Override 15 public   void   onSuccess( Void   responseInfo )   { 16 log ( CALLBACK ,   " remove   user   metadata   success " ) ; 17 } 18 19 @ Override 20 public   void   onFailure( ErrorInfo   errorInfo )   { 21 log ( ERROR ,   errorInfo. toString ()) ; 22 } 23 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   72/96

receive the   USER   type of the   onStorageEvent   event notification. See   Event listeners .  INFORMA T ION  You cannot use this method to update metadata items which do not exist.  M e t h o d  You can call the   updateUserMetadata   method as follows:  Parameters   Type   Required   Default   Description  userId   String   Required   -   User ID.  data   Metadata   Required   -   Metadata item. See  Metadata   .  options   MetadataOptions   Required   -   Options for setting the channel metadata.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  The   MetadataOptions   data type contains the following properties:  Properties   Type   Required   Default   Description  recordTs   boolean   Optional   false  Whether to record the timestamp of the edits.  recordUserId   boolean   Optional   false   Whether to record the user ID of the editor. 1 void   updateUserMetadata ( 2 String   userId, 3 Metadata   data, 4 MetadataOptions   options, 5 ResultCallback < Void >   resultCallback 6 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   73/96

B a s ic   us age  su b s c r ibe U s e r M e t ada t a  D e s c r i pt i on  The   subscribeUserMetadata   method can subscribe to metadata for a specified user. After successfully subscribing to the user metadata, you receive the   USER   type of the  onStorageEvent   event notification when the metadata for that user changes. See   Event listeners .  M e t h o d  You can call the   subscribeUserMetadata   method as follows:  Parameters   Type   Required   Default   Description  userId   String   Required   -   User ID. 1 //   Create   a   metadata   instance 2 Metadata   metadata   =   new   Metadata (); 3 //   Set   the   Major   Revision 4 metadata. setMajorRevision ( 174298270 ); 5 //   Add   a   metadata   item 6 metadata. getItems (). add ( new   MetadataItem ( " Name " ,   " Tony " ,   174298200 )); 7 //   Record   who   and   when   set   the   metadata 8 MetadataOptions   options   =   new   MetadataOptions (); 9 options. setRecordTs ( true ); 10 options. setRecordUserId ( true ); 11 12 rtmClient. getStorage (). updateUserMetadata ( " Tony " ,   metadata,   options,   new 13 @ Override 14 public   void   onSuccess( Void   responseInfo )   { 15 log ( CALLBACK ,   " update   user   metadata   success " ) ; 16 } 17 18 @ Override 19 public   void   onFailure( ErrorInfo   errorInfo )   { 20 log ( ERROR ,   errorInfo. toString ()) ; 21 } 22 }); 1 void   subscribeUserMetadata ( 2 String   userId, 3 ResultCallback < Void >   resultCallback 4 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   74/96

Parameters   Type   Required   Default   Description  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  B a s ic   us age  unsu b s c r ibe U s e r M e t ada t a  D e s c r i pt i on  If you do not need to receive notifications of changes to a user metadata, call the  unsubscribeUserMetadata   method to unsubscribe.  M e t h o d  You can call the   unsubscribeUserMetadata   method as follows:  Parameters   Type   Required   Default   Description  userId   String   Required   -   User ID. 1 rtmClient. getStorage (). subscribeUserMetadata ( " Tony " ,   new   ResultCallback <V 2 @ Override 3 public   void   onSuccess( Void   responseInfo )   { 4 log ( CALLBACK ,   " subscribe   user   metadata   success " ) ; 5 } 6 7 @ Override 8 public   void   onFailure( ErrorInfo   errorInfo )   { 9 log ( ERROR ,   errorInfo. toString ()) ; 10 } 11 }); 1 void   unsubscribeUserMetadata ( 2 String   userId, 3 ResultCallback < Void >   resultCallback 4 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   75/96

Parameters   Type   Required   Default   Description  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  B a s ic   us age  M e t ada t a  Use the   Metadata   data type to set and manage metadata, containing the following properties:  Properties   Type   Required   Default   Description  majorRevision   long   Optional   -1  The version control switch:  -1   : Disable the version verification.  >   0   : Enable the version verification. The operation can only be performed if the target version number matches this value.  items   ArrayList<MetadataItem>   Optional   null   Metadata items. 1 rtmClient. getStorage (). unsubscribeUserMetadata ( " Tony " ,   new   ResultCallback 2 @ Override 3 public   void   onSuccess( Void   responseInfo )   { 4 log ( CALLBACK ,   " unsubscribe   user   metadata   success " ) ; 5 } 6 7 @ Override 8 public   void   onFailure( ErrorInfo   errorInfo )   { 9 log ( ERROR ,   errorInfo. toString ()) ; 10 } 11 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   76/96

The   MetadataItem   data type contains the following properties:  Properties   Type   Required   Default   Description  key   String   Optional   -   Key.  value   String   Optional   -   Value.  authorUserId   String   Optional   -   The user ID of the editor. This value is read- only and does not support writing.  revision   long   Optional   -1  Returns the real version number in read operations.  Serves as a version control switch in write operations:  -1   : Disable the version verification.  >   0   : Enable version verification, only perform the operation if the target version number matches this value.  updateTs   long   Optional   0  Update timestamp. This value is read-only and does not support writing.  L o ck  A critical resource can only be used by one process at a time. If a critical resource is shared between different processes, each process needs to adopt a mutually exclusive method to prevent mutual interference. Signaling provides a full set of lock solutions. By controlling different processes in a distributed system, you can solve the competition problem when users access shared resources.  INFORMA T ION  The client is able to set, remove, and revoke locks. We recommend that you control the permissions of these operations on the client side based on your business needs.  s e t L o ck  D e s c r i pt i on  You need to configure the lock name, time to live (TTL) and other parameters by calling the  setLock   method. If the configuration succeeds, all users in the channel receives the  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   77/96

onLockEvent   event notifications of the   SET   type. For details, see   Event Listeners .  M e t h o d  You can call the   setLock   method as follows:  Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name.  channelType   RtmChannelType   Required   -   Channel types. See  RtmChannelType   .  lockName   String   Required   -   Lock name.  ttl   long   Required   -  The expiration time of the lock. The value is in seconds, ranging from [10 to 300]. When the user who owns the lock goes offline, if the user returns to the channel within the time they can still use the lock; otherwise, the lock is released and the users who listen for the  onLockEvent   event receives the   RELEASED  event. 1 void   setLock ( 2 String   channelName, 3 RtmChannelType   channelType, 4 String   lockName, 5 long   ttl, 6 ResultCallback < Void >   resultCallback 7 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   78/96

Parameters   Type   Required   Default   Description  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  B a s ic   us age  ac qu i r e L o ck  D e s c r i pt i on  After successfully configuring a lock, you can call the   acquireLock   method on the client to acquire the right to own the lock. When you acquire the lock, other users in the channel receives the   ACQUIRED   type of the   onLockEvent   event. For details, see   Event Listeners .  M e t h o d  You can call the   acquireLock   method as follows: 1 long   ttl   =   30 ; 2 rtmClient. getLock (). setLock ( " my_channel " ,   RtmChannelType.STREAM,   " my_lock 3 @ Override 4 public   void   onSuccess( Void   responseInfo )   { 5 log ( CALLBACK ,   " set   lock   success " ) ; 6 } 7 8 @ Override 9 public   void   onFailure( ErrorInfo   errorInfo )   { 10 log ( ERROR ,   errorInfo. toString ()) ; 11 } 12 }); 1 void   acquireLock ( 2 String   channelName, 3 RtmChannelType   channelType, 4 String   lockName, 5 boolean   retry, 6 ResultCallback < Void >   resultCallback 7 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   79/96

Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name.  channelType   RtmChannelType   Required   -   Channel types. See  RtmChannelType   .  lockName   String   Required   -   Lock name.  retry   boolean   Required   -  If the lock acquisition fails, whether to retry until the acquisition succeeds or the user leaves the channel.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  B a s ic   us age  r e l ea s e L o ck  D e s c r i pt i on  When a user no longer needs to own a lock, the user can call the   releaseLock   method on the client side to release the lock. After successful release the lock, other users in the channel receives the   RELEASED   type of the   onLockEvent   event. See   Event Listeners . 1 boolean   retry   =   false ; 2 rtmClient. getLock (). acquireLock ( " chat_room " ,   RtmChannelType.STREAM,   " my_l 3 @ Override 4 public   void   onSuccess( Void   responseInfo )   { 5 log ( CALLBACK ,   " acquire   lock   success " ) ; 6 } 7 8 @ Override 9 public   void   onFailure( ErrorInfo   errorInfo )   { 10 log ( ERROR ,   errorInfo. toString ()) ; 11 } 12 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   80/96

At this time, if other users want to acquire the lock, they can call the   acquireLock  method on the client side to compete. New users acquiring locks have the same contention priority as the users who set the   retry   property to automatically retry to acquire locks.  M e t h o d  You can call the   releaseLock   method as follows:  Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name.  channelType   RtmChannelType   Required   -   Channel types. See  RtmChannelType   .  lockName   String   Required   -   Lock name.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  B a s ic   us age 1 void   releaseLock ( 2 String   channelName, 3 RtmChannelType   channelType, 4 String   lockName, 5 ResultCallback < Void >   resultCallback 6 ); 1 rtmClient. getLock (). releaseLock ( " chat_room " ,   RtmChannelType.STREAM,   " my_l 2 @ Override 3 public   void   onSuccess( Void   responseInfo )   { 4 log ( CALLBACK ,   " release   lock   success " ) ; 5 } 6 7 @ Override 8 public   void   onFailure( ErrorInfo   errorInfo )   { 9 log ( ERROR ,   errorInfo. toString ()) ; 10 } 11 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   81/96

r e vo ke L o ck  D e s c r i pt i on  When the lock is occupied, to ensure that your business is not affected, you may need to revoke the lock and give other users a chance to obtain it. Revoke the occupied lock by calling   revokeLock   . When the lock is revoked, all users in the channel receives the  RELEASED   type of the   onLockEvent   event. See   Event Listeners .  At this time, if other users want to acquire the lock, they can call the   acquireLock  method on the client side to compete. New users acquiring locks have the same contention priority as the users who set the   retry   property to automatically retry to acquire locks.  M e t h o d  You can call the   revokeLock   method as follows:  Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name.  channelType   RtmChannelType   Required   -   Channel types. See  RtmChannelType   .  lockName   String   Required   -   Lock name.  owner   String   Required   -   The ID of the user who has a lock.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method. 1 void   revokeLock ( 2 String   channelName, 3 RtmChannelType   channelType, 4 String   lockName, 5 String   owner, 6 ResultCallback < Void >   resultCallback 7 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   82/96

B a s ic   us age  ge t L o ck s  D e s c r i pt i on  If you want to query the lock information such as lock total number, lock name, and lock user, time to live, you can call the   getLocks   method on the client.  M e t h o d  You can call the   getLocks   method as follows:  Parameters   Type   Required   Default   Descriptio  channelName   String   Required   -   Channel na  channelType   RtmChannelType   Required   -  Channel ty See  RtmChanne  resultCallback   ResultCallback<ArrayList<LockDetail>>   Required   -   Success: E the   onSuc  method an return the  LockDetai  type. 1 String   lockOwner   =   " Tony " ; 2 rtmClient. getLock (). revokeLock ( " chat_room " ,   RtmChannelType.STREAM,   " my_lo 3 @ Override 4 public   void   onSuccess( Void   responseInfo )   { 5 log ( CALLBACK ,   " revoke   lock( "   +   lockName   +   " )   success " ) ; 6 } 7 8 @ Override 9 public   void   onFailure( ErrorInfo   errorInfo )   { 10 log ( ERROR ,   errorInfo. toString ()) ; 11 } 12 }); 1 void   getLocks ( 2 String   channelName, 3 RtmChannelType   channelType, 4 ResultCallback < ArrayList < LockDetail >>   resultCallback 5 );  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   83/96

Parameters   Type   Required   Default   Descriptio  Failure: Exe the   onFai  method.  The   LockDetail   data type contains the following properties:  Properties   Type   Description  lockName   String   Lock name.  lockOwner   String   The ID of the user who has a lock.  ttl   int  The expiration time of the lock. The value is in seconds, ranging from [10 to 300]. When the user who owns the lock goes offline, if the user returns to the channel within the time they can still use the lock; otherwise, the lock is released and the users who listen for the   onLockEvent   event receives the   RELEASED   event.  B a s ic   us age  r e mov e L o ck  D e s c r i pt i on  If you no longer need a lock, you can call the   removeLock   method to remove the lock. After successfully removing the lock, all users in the channel receives the   REMOVED   type of  onLockEvent   event notification. See   Event Listeners . 1 rtmClient. getLock (). getLocks ( " chat_room " ,   RtmChannelType.STREAM,   new   Resu 2 @ Override 3 public   void   onSuccess( ArrayList < LockDetail >   details )   { 4 log ( CALLBACK ,   " get   channel   locks   success " ) ; 5 6 for   ( LockDetail   detail   :   details)   { 7 log ( INFO ,   " lock   name:   "   +   detail.lockName   +   " ,   lock   owner:   " 8 } 9 } 10 11 @ Override 12 public   void   onFailure( ErrorInfo   errorInfo )   { 13 log ( ERROR ,   errorInfo. toString ()) ; 14 } 15 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   84/96

M e t h o d  You can call the   removeLock   method as follows:  Parameters   Type   Required   Default   Description  channelName   String   Required   -   Channel name.  channelType   RtmChannelType   Required   -   Channel types. See  RtmChannelType   .  lockName   String   Required   -   Lock name.  resultCallback   ResultCallback<Void>   Required   -  Invocation result callback:  Success: Executes the  onSuccess   method.  Failure: Executes the  onFailure   method.  B a s ic   us age  E num e r a t ed   typ e s  E num 1 void   removeLock ( 2 String   channelName, 3 RtmChannelType   channelType, 4 String   lockName, 5 ResultCallback < Void >   resultCallback 6 ); 1 rtmClient. getLock (). removeLock ( " chat_room " ,   RtmChannelType.STREAM,   " my_lo 2 @ Override 3 public   void   onSuccess( Void   responseInfo )   { 4 log ( CALLBACK ,   " remove   lock   success " ) ; 5 } 6 7 @ Override 8 public   void   onFailure( ErrorInfo   errorInfo )   { 9 log ( ERROR ,   errorInfo. toString ()) ; 10 } 11 });  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   85/96

R tm A r ea C o de  The region for connection, which is the region where the server the SDK connects to is located.  Value   Description  CN   0x00000001   : Mainland China.  NA   0x00000002   : North America.  EU   0x00000004   : Europe.  AS   0x00000008   : Asia, excluding Mainland China.  JP   0x00000010   : Japan.  IN   0x00000020   : India.  GLOB   0xFFFFFFFF   : Global.  R tm C ha nn e l T yp e  Channel types.  Value   Description  MESSAGE   1   : Message channel.  STREAM   2   : Stream channel.  USER   3   : User Channel.  R tm C onn ec t i on C ha n ge R ea son  Reasons causing the change of the connection state.  Value   Description  CONNECTING   0   : The SDK is connecting with the server.  JOIN_SUCCESS   1   : The SDK has joined the channel successfully.  INTERRUPTED   2   : The connection between the SDK and the server is interrupted.  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   86/96

Value   Description  BANNED_BY_SERVER   3   : The connection between the SDK and the server is banned by the server.  JOIN_FAILED  4   : The SDK fails to join the channel. When the SDK fails to join the channel for more than 20 minutes, this error occurs and the SDK stops reconnecting to the channel.  LEAVE_CHANNEL   5   : The SDK has left the channel.  INVALID_APP_ID   6   : The connection failed because the App ID is not valid.  INVALID_CHANNEL_NAME   7   : The connection failed because the channel name is not valid.  INVALID_TOKEN   8   : The connection failed because the token is not valid.  TOKEN_EXPIRED   9   : The connection failed because the token is expired.  REJECTED_BY_SERVER   10   : The connection is rejected by server.  SETTING_PROXY_SERVER   11   : The connection state changed to reconnecting because the SDK has set a proxy server.  RENEW_TOKEN   12   : The connection state changed because the token is renewed.  CLIENT_IP_ADDRESS_CHANGED  13   : The IP address of the client has changed, possibly because the network type, IP address, or port has been changed.  KEEP_ALIVE_TIMEOUT  14   : Timeout for the keep-alive of the connection between the SDK and the server. The connection state changes to reconnecting.  REJOIN_SUCCESS   15   : The user has rejoined the channel successfully.  LOST   16   : The connection between the SDK and the server is lost.  ECHO_TEST   17   : The connection state changes due to the echo test.  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   87/96

Value   Description  CLIENT_IP_ADDRESS_CHANGED_BY_USER   18   : The local IP address was changed by the user. The connection state changes to reconnecting.  SAME_UID_LOGIN   19   : The user joined the same channel from different devices with the same UID.  TOO_MANY_BROADCASTERS   20   : The number of hosts in the channel has reached the upper limit.  LICENSE_VALIDATION_FAILURE   21   : License validation failure.  CERTIFICATION_VERIFY_FAILURE   22   : The server certificate verification has encountered an error.  STREAM_CHANNEL_NOT_AVAILABLE   23   : The stream channel does not exist.  INCONSISTENT_APPID   24   : The App ID does not match the token.  LOGIN_SUCCESS   10001   : The SDK logs in to the Signaling system.  LOGOUT   10002   : The SDK logs out from the Signaling system.  PRESENCE_NOT_READY  10003   : Presence service is not ready. You need to call the   login   method again to log in to the Signaling system and re-execute all operations on the SDK.  R tm C onn ec t i on S t a t e  SDK connection states.  Value   Description  DISCONNECTED   1   : The SDK has disconnected with the server.  CONNECTING   2   : The SDK is connecting with the server.  CONNECTED   3   : The SDK has connected with the server.  RECONNECTING   4   : The connection is lost. The SDK is reconnecting with the server.  FAILED   5   : The SDK failed to connect with the server.  R tm E n c rypt i on M o de  Encryption mode.  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   88/96

Value   Description  NONE   0   : No encryption.  AES_128_GCM   1   : AES-128-GCM mode.  AES_256_GCM   2   : AES-256-GCM mode.  R tm L o ck E v e nt T yp e  Lock event type.  Value   Description  SNAPSHOT   1   : The snapshot of the lock when the user joined the channel.  SET   2   : The lock is set.  REMOVED   3   : The lock is removed.  ACQUIRED   4   : The lock is acquired.  RELEASED   5   : The lock is released.  EXPIRED   6   : The lock expired.  R tm L o g L e v e l  Log output levels.  Value   Description  NONE   0x0000   : No log.  INFO   0x0001   : Output the log at the   FATAL   ,   ERROR   ,   WARN   , or   INFO   level. We recommend you set to this value.  WARN   0x0002   : Output the log at the   FATAL   ,   ERROR   ,   WARN   level.  ERROR   0x0004   : Output the log at the   FATAL   ,   ERROR   level.  FATAL   0x0008   : Output the log at the   FATAL   level.  R tm M e ss age P r i or i ty  Message priority.  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   89/96

Value   Description  HIGHEST   0   : Highest.  HIGH   1   : High.  NORMAL   4   : Normal.  LOW   8   : Low.  R tm M e ss age Q os  QoS guarantee when sending topic messages.  Value   Description  UNORDERED   0   : Message data is not guaranteed to arrive in order.  ORDERED   1   : Message data arrives in order.  R tm M e ss age T yp e  Message type.  Value   Description  BINARY   0   : Binary type.  STRING   1   : String type.  R tm P r e s e n ce E v e nt T yp e  Presence event type.  Value   Description  SNAPSHOT   1   : The snapshot of the presence when the user joined the channel.  INTERVAL   2   : When users in the channel reach the setting value, the event notifications are sent at intervals rather than in real time.  REMOTE_JOIN   3   : A remote user joined the channel.  REMOTE_LEAVE   4   : A remote user left the channel.  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   90/96

Value   Description  REMOTE_TIMEOUT   5   : A remote user's connection timed out.  REMOTE_STATE_CHANGED   6   : A remote user's temporary state changed.  ERROR_OUT_OF_SERVICE   7   : The user did not enable presence when joining the channel.  R tm L i n k O p e r a t i on  Operation type.  Value   Description  LOGIN   0   : The user logins to the Signaling system.  LOGOUT   1   : The user logouts of the Signaling system.  JOIN   2   : The user joins in a stream channel.  LEAVE   3   : The user leaves a stream channel.  SERVER_REJECT   4   : The Signaling server reject the connection.  AUTO_RECONNECT   5   : The SDK is automatically reconnecting to the Signaling server.  RECONNECTED   6   : The SDK is reconnected to the Signaling server.  HEARTBEAT_TIMEOUT   7   : The Signaling server does not receive the heartbeat packet within the specified timeout period.  SERVER_TIMEOUT   8   : The Signaling server has timed out.  NETWORK_CHANGE   9   : The network status changes.  R tm L i n k S t a t e  Link state type.  Value   Description  IDLE   0   : The init state.  CONNECTING   1   : Connecting.  CONNECTED   2   : Connected.  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   91/96

Value   Description  DISCONNECTED   3   : Disconnected.  SUSPENDED   4   : Suspended.  FAILED   5   : Failed.  R tm L i n k S t a t e C ha n ge R ea son  Link state change reason.  Value   Description  UNKNOWN   0   : Unknown reason.  LOGIN   1   : Logging in.  LOGIN_SUCCESS   2   : Login successful.  LOGIN_TIMEOUT   3   : Login timeout.  LOGIN_NOT_AUTHORIZED   4   : Login not authorized.  LOGIN_REJECTED   5   : Login rejected.  RELOGIN   6   : Re-login.  LOGOUT   7   : Logout.  AUTO_RECONNECT   8   : Auto-reconnect.  RECONNECT_TIMEOUT   9   : Reconnect timeout.  RECONNECT_SUCCESS   10   : Reconnect successful.  JOIN   11   : Joining a channel.  JOIN_SUCCESS   12   : Join channel successful.  JOIN_FAILED   13   : Join channel failed.  REJOIN   14   : Re-join a channel.  LEAVE   15   : Leave a channel.  INVALID_TOKEN   16   : Invalid token.  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   92/96

Value   Description  TOKEN_EXPIRED   17   : Token expired.  INCONSISTENT_APP_ID   18   : Inconsistent app ID.  INVALID_CHANNEL_NAME   19   : Invalid channel name.  INVALID_USER_ID   20   : Invalid user ID.  NOT_INITIALIZED   21   : SDK not initialized.  RTM_SERVICE_NOT_CONNECTED   22   : RTM service not connected.  CHANNEL_INSTANCE_EXCEED_LIMITATION   23   : Channel instance exceeds the limit.  OPERATION_RATE_EXCEED_LIMITATION   24   : Operation frequency exceeds the limit.  CHANNEL_IN_ERROR_STATE   25   : Channel in error state.  PRESENCE_NOT_CONNECTED   26   : Presence service not connected.  SAME_UID_LOGIN   27   : Login with the same user ID.  KICKED_OUT_BY_SERVER   28   : Kicked out by the server.  KEEP_ALIVE_TIMEOUT   29   : Keepalive timeout.  CONNECTION_ERROR   30   : Connection error.  PRESENCE_NOT_READY   31   : Presence service not ready.  NETWORK_CHANGE   32   : Network changed.  SERVICE_NOT_SUPPORTED   33   : Service not supported.  STREAM_CHANNEL_NOT_AVAILABLE   34   : Stream Channel not available.  STORAGE_NOT_AVAILABLE   35   : Storage service not available.  LOCK_NOT_AVAILABLE   36   : Lock service not available.  LOGIN_TOO_FREQUENT   37   : The login operation is too frequent.  R tm P roto c ol T yp e  Protocol type.  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   93/96

Value   Description  TCP_UDP   0   : Both TCP and UDP protocols.  TCP_ONLY   1   : Only TCP protocol.  R tm S e rv ice T yp e  Service type  Value   Description  MESSAGE  The foundational services comprise the message channel, user channel, presence, storage, and lock services.  STREAM   The stream channel service.  INFORMA T ION  To fully utilize all services offered by Signaling, use bitwise operations to simultaneously configure two service types.  R tm P roxy T yp e  Proxy type.  Value   Description  NONE   0   : Do not enable the proxy.  HTTP   1   : Enable the proxy for the HTTP protocol.  CLOUD_TCP   2   : Enable cloud proxy for the TCP protocol.  R tm S tor age E v e nt T yp e  Storage event type.  Value   Description  SNAPSHOT   1   : When a user subscribes to channel metadata or user etadata for the first time, or joins a channel, the local user receives notifications of this type of event.  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   94/96

Value   Description  SET  2   : Occurs when calling   setChannelMetadata   or   setUserMetadata   .  CA UT ION  This event only occurs in incremental data update mode.  UPDATE   3   : Occurs when calling methods to set, update, or delete the channel metadata or user metadata.  REMOVE  4   : Occurs when calling   removeChannelMetadata   or   removeUserMetadata   .  CA UT ION  This event only occurs in incremental data update mode.  R tm S tor age T yp e  Storage type.  Value   Description  USER   1   : User metadata event.  CHANNEL   2   : Channel metadata event.  R tm T op ic E v e nt T yp e  Topic event type.  Value   Description  SNAPSHOT   1   : The snapshot of the topic when the user joined the channel.  REMOTE_JOIN   2   : A remote user joined the channel.  REMOTE_LEAVE   3   : A remote user left the channel.  W a s   t hi s   he lp f ul ?   Yes   No  Something wrong or unclear?   Still need help?  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   95/96

Suggest an edit   Contact support  Ask the community  CONTACT US  +1 (408) 879-5885  2804 Mission College Blvd.  Santa Clara, CA, USA 95054  WHY AGORA  Agora Advantage  Products  Solutions  Partners  Success Stories  COMPANY  About Us  Blog  Compliance & Privacy  Management  Events  Careers  Newsroom  Investor Relations  GET STARTED  Login  Pricing  Support Plans  Get Started  Documentation  Talk to Us  Privacy Policy   Cookie Policy   Terms of Service   Acceptable Use Policy  Site Map   Report Abuse of our Terms of Service   Manage My Cookies  Copyright ©   2026   Agora   |   All rights reserved  2026/1/9 18:31   API Reference | Agora Docs  https://docs.agora.io/en/signaling/reference/api?platform=android   96/96